{'text': ' Vi kan se litt mer i detalj på det. For vi har da et program som heter Perf. Som jeg kan bruke til å se nøyaktig hva som skjer når jeg kjører programmet. Så vi kan ta den enkleste... enkleste versjonen først. Sette i den som går raskest. Her ligger det pent etter hverandre, så dette kan pustes i store biter ut i cash. Da går det kjapt. Det er den der. 0,02 sekunder. Men så kan jeg kjøre en... Altså, jeg har kjørt den før. Det er en kommando som heter perf, og den gir statistikk med antall... Her er jeg bedt eksplisitt om å skrive ut antall sykler, antall instruksjoner, Cash references. Det er hvor mange ganger du har en cash-referanse. Hvor mange ganger du henter ut noe for cash. Og så, ikke minst, cash misses. Major faults og minor faults. Major faults, det er når man må ut på disken og hente. Og det skjer ikke her. Det er når du får en virkelig page fault. Minor faults, det er når man må... Når man ikke har... Lagd en side i MMU. Og det skal vi se, det må vi gjøre ganske ofte. Så... Jeg tar og kjører den først. Og da får vi statistikken for dette programmet. Igjen ser vi det går lynras. 0,02 sekunder. Likevel ser vi... Utfør 63 millioner sykler. Og du gjør 71 millioner institusjoner. Men omtrent da en institusjon per sekund. Så... så ser vi... Cash Misses. Ja, den bommer ganske ofte på cash. Og det er fordi at den... den tar jo nå ut bit for bit. Men ganske ofte så må den hoppe videre til neste... neste del av cashen. Må fylle ut cash på nytt. Men fordelen når de ligger etter hverandre, er at den fyller hele cash. Med elementene som ligger etter hverandre. Men vi ser her minor falts. 10 000 minor falts. Og det passer ganske bra med... Hvis at det er 10K. En side er omtrent på 1000 bytes. Vanligvis er den på 4K. Så det går ikke helt opp. Men... Det er omtrent 10 000 K. Og vi ser at vi får 10 000 minor folts. Og det er fordi at en minor folts er når man ikke har referert til denne delen av minnet. Og da lages det en adressering i MMU. Og det gjøres 10 000 ganger. Så det tar også litt tid. Men alt i alt så går dette lynraskt. Så prøver jeg å sette J like. Nei, vi setter inn RA av J, og da hopper vi rundt i 4 GB. Og dette tar da mye lengre tid. Komplerer. Og kjører det samme. Og nå ser vi... Nå får vi først og fremst... Så burde vi egentlig kunne sammenligne. Sånn, ja. Det tar 1,6 sekunder mye lengre tid. Og det er opplagt mange flere cycles. Og vi ser vi har veldig mange flere cash references, og nesten alle bommer. Jeg har på en måte konstruert dette sånn at det skal bomme. Vi hopper med 100 hver gang. Det er veldig uvanlig at man gjør det på denne måten her. Men dette er bare for å illustrere hvordan cash virker. Å være klar over det. Så vi får 75 millioner cash misses i stedet for 800 000 her oppe. Det er først og fremst det som gjør at det tar mye lengre tid. Men det tar også tid å bygge opp MMU, for her ser du vi... Her trengs det én million sider. For det r-e-et er på fire. Fire G, fire gigabyte. Og med en sidestørrelse på fire K, så så trenger man én million sider. Ja, så det går pent opp. Jeg glemte det at en integr er på fire. Så dette, det tilsvarer da... I det første tilfellet trengte vi bare 10 000 sider i MMU, men her trenger vi 1 million sider for å kunne adressere 4 gigabyte. Og dette tar også mye tid å bygge opp MMU. Og da ser vi at det er oppe i 1,6 GB. Det kan vi også se på... Når jeg tar Time Out-Out, så kan vi se på hva tiden går bort til. Vi ser user, det er 0,4, men veldig mye brukes av system. Cornal Tid. Og det er da for å bygge opp MMU-sidene. Så det er også en faktor her. Det er ikke bare cash, Hvis vi nå kjører... Hvis vi ser på det samme med Adatat, så ser vi... Jo, det er en andel system her også som er ganske stor. Den er faktisk litt større, for her også må de sidene bygges opp. Så ser vi at kjernen er inne og hjelper til med å... Bygge opp, da, i dette tilfellet 1 million pages. Og det tar litt tid. Spørsmål om hvorfor det var så mange cash misses i prog 1. Jo, det skyldes at tross alt, selv om man går etter hverandre, så går man veldig langt. Her ser vi det er 10 millioner... 10 millioner bite, eller da 10 000 kilobite. Og hvis du regner med INT, så er det da 40 000 kilobite. Og det krever jo da... At man lager de 10 000 sidene... her oppe. Men spørsmålet var kanskje hvorfor det var så mange cashministers som 801? Jo... Cash er da mindre enn 4K, så selv om du... Selv om du treffer veldig ofte, så er det jo med en gang du kommer utenfor, i første omgang, LN-cash-størrelsen, så vil du måtte hoppe over på... Så vil LN-cash måtte reflushes. Og den vil da reflushes 800 000 ganger når det går oppover. Først med opptil 100, og så... Men du ser du skal helt opp til 10 millioner. Så derfor vil du ha flere cashmisses enn der...', 'chunks': [{'timestamp': (0.0, 5.44), 'text': ' Vi kan se litt mer i detalj på det.'}, {'timestamp': (5.52, 11.72), 'text': ' For vi har da et program som heter Perf.'}, {'timestamp': (11.72, 17.8), 'text': ' Som jeg kan bruke til å se nøyaktig hva som skjer når jeg kjører programmet.'}, {'timestamp': (17.88, 24.44), 'text': ' Så vi kan ta den enkleste... enkleste versjonen først.'}, {'timestamp': (26.48, 29.04), 'text': ' Sette i den som går raskest.'}, {'timestamp': (30.0, 35.9), 'text': ' Her ligger det pent etter hverandre, så dette kan pustes i store biter ut i cash.'}, {'timestamp': (35.98, 39.84), 'text': ' Da går det kjapt.'}, {'timestamp': (39.84, 45.4), 'text': ' Det er den der. 0,02 sekunder. Men så kan jeg kjøre en...'}, {'timestamp': (45.42, 51.18), 'text': ' Altså, jeg har kjørt den før. Det er en kommando som heter perf,'}, {'timestamp': (51.28, 54.64), 'text': ' og den gir statistikk med antall...'}, {'timestamp': (55.7, 58.9), 'text': ' Her er jeg bedt eksplisitt om å skrive ut antall sykler, antall instruksjoner,'}, {'timestamp': (60.0, 66.36), 'text': ' Cash references. Det er hvor mange ganger du har en cash-referanse.'}, {'timestamp': (66.36, 69.2), 'text': ' Hvor mange ganger du henter ut noe for cash.'}, {'timestamp': (69.26, 74.08), 'text': ' Og så, ikke minst, cash misses. Major faults og minor faults.'}, {'timestamp': (74.16, 81.16), 'text': ' Major faults, det er når man må ut på disken og hente.'}, {'timestamp': (81.24, 85.28), 'text': ' Og det skjer ikke her. Det er når du får en virkelig page fault.'}, {'timestamp': (85.36, 89.96), 'text': ' Minor faults, det er når man må... Når man ikke har...'}, {'timestamp': (90.0, 95.48), 'text': ' Lagd en side i MMU. Og det skal vi se, det må vi gjøre ganske ofte.'}, {'timestamp': (95.48, 99.88), 'text': ' Så... Jeg tar og kjører den først.'}, {'timestamp': (100.8, 104.2), 'text': ' Og da får vi statistikken for dette programmet.'}, {'timestamp': (104.28, 107.88), 'text': ' Igjen ser vi det går lynras. 0,02 sekunder.'}, {'timestamp': (107.88, 113.2), 'text': ' Likevel ser vi... Utfør 63 millioner sykler.'}, {'timestamp': (113.2, 116.0), 'text': ' Og du gjør 71 millioner institusjoner.'}, {'timestamp': (116.2, 119.92), 'text': ' Men omtrent da en institusjon per sekund.'}, {'timestamp': (120.0, 129.34), 'text': ' Så... så ser vi... Cash Misses. Ja, den bommer ganske ofte på cash.'}, {'timestamp': (129.36, 133.84), 'text': ' Og det er fordi at den... den tar jo nå ut bit for bit.'}, {'timestamp': (133.92, 143.04), 'text': ' Men ganske ofte så må den hoppe videre til neste... neste del av cashen.'}, {'timestamp': (143.12, 149.68), 'text': ' Må fylle ut cash på nytt. Men fordelen når de ligger etter hverandre, er at den fyller hele cash.'}, {'timestamp': (150.0, 154.44), 'text': ' Med elementene som ligger etter hverandre.'}, {'timestamp': (154.44, 160.64), 'text': ' Men vi ser her minor falts. 10 000 minor falts.'}, {'timestamp': (160.72, 167.04), 'text': ' Og det passer ganske bra med... Hvis at det er 10K.'}, {'timestamp': (167.04, 172.04), 'text': ' En side er omtrent på 1000 bytes.'}, {'timestamp': (173.94, 179.16), 'text': ' Vanligvis er den på 4K. Så det går ikke helt opp. Men...'}, {'timestamp': (180.0, 185.72), 'text': ' Det er omtrent 10 000 K. Og vi ser at vi får 10 000 minor folts.'}, {'timestamp': (185.84, 191.88), 'text': ' Og det er fordi at en minor folts er når man ikke har referert til denne delen av minnet.'}, {'timestamp': (191.92, 200.32), 'text': ' Og da lages det en adressering i MMU. Og det gjøres 10 000 ganger.'}, {'timestamp': (200.32, 206.4), 'text': ' Så det tar også litt tid. Men alt i alt så går dette lynraskt. Så prøver jeg å sette J like.'}, {'timestamp': (210.0, 215.88), 'text': ' Nei, vi setter inn RA av J, og da hopper vi rundt i 4 GB.'}, {'timestamp': (215.96, 220.04), 'text': ' Og dette tar da mye lengre tid.'}, {'timestamp': (221.28, 225.36), 'text': ' Komplerer. Og kjører det samme.'}, {'timestamp': (226.44, 229.88), 'text': ' Og nå ser vi...'}, {'timestamp': (231.94, 237.96), 'text': ' Nå får vi først og fremst... Så burde vi egentlig kunne sammenligne. Sånn, ja.'}, {'timestamp': (240.0, 244.48), 'text': ' Det tar 1,6 sekunder mye lengre tid.'}, {'timestamp': (244.48, 248.52), 'text': ' Og det er opplagt mange flere cycles.'}, {'timestamp': (248.52, 254.76), 'text': ' Og vi ser vi har veldig mange flere cash references, og nesten alle bommer.'}, {'timestamp': (254.76, 261.48), 'text': ' Jeg har på en måte konstruert dette sånn at det skal bomme.'}, {'timestamp': (261.56, 266.76), 'text': ' Vi hopper med 100 hver gang. Det er veldig uvanlig at man gjør det på denne måten her.'}, {'timestamp': (266.76, 269.96), 'text': ' Men dette er bare for å illustrere hvordan cash virker.'}, {'timestamp': (270.0, 274.2), 'text': ' Å være klar over det.'}, {'timestamp': (274.28, 281.56), 'text': ' Så vi får 75 millioner cash misses i stedet for 800 000 her oppe.'}, {'timestamp': (281.56, 287.28), 'text': ' Det er først og fremst det som gjør at det tar mye lengre tid.'}, {'timestamp': (287.28, 293.08), 'text': ' Men det tar også tid å bygge opp MMU, for her ser du vi...'}, {'timestamp': (293.3, 298.96), 'text': ' Her trengs det én million sider. For det r-e-et er på fire.'}, {'timestamp': (300.0, 303.6), 'text': ' Fire G, fire gigabyte.'}, {'timestamp': (303.6, 310.68), 'text': ' Og med en sidestørrelse på fire K,'}, {'timestamp': (310.68, 315.64), 'text': ' så så trenger man én million sider.'}, {'timestamp': (315.64, 322.0), 'text': ' Ja, så det går pent opp. Jeg glemte det at en integr er på fire.'}, {'timestamp': (324.08, 328.6), 'text': ' Så dette, det tilsvarer da...'}, {'timestamp': (330.0, 341.28), 'text': ' I det første tilfellet trengte vi bare 10 000 sider i MMU,'}, {'timestamp': (341.28, 349.84), 'text': ' men her trenger vi 1 million sider for å kunne adressere 4 gigabyte.'}, {'timestamp': (349.84, 359.8), 'text': ' Og dette tar også mye tid å bygge opp MMU. Og da ser vi at det er oppe i 1,6 GB.'}, {'timestamp': (360.0, 366.84), 'text': ' Det kan vi også se på...'}, {'timestamp': (366.84, 372.48), 'text': ' Når jeg tar Time Out-Out, så kan vi se på hva tiden går bort til.'}, {'timestamp': (372.92, 377.08), 'text': ' Vi ser user, det er 0,4, men veldig mye brukes av system.'}, {'timestamp': (377.08, 385.24), 'text': ' Cornal Tid. Og det er da for å bygge opp MMU-sidene.'}, {'timestamp': (385.24, 388.68), 'text': ' Så det er også en faktor her. Det er ikke bare cash,'}, {'timestamp': (390.0, 396.12), 'text': ' Hvis vi nå kjører...'}, {'timestamp': (397.3, 402.92), 'text': ' Hvis vi ser på det samme med Adatat, så ser vi...'}, {'timestamp': (404.28, 411.64), 'text': ' Jo, det er en andel system her også som er ganske stor.'}, {'timestamp': (411.72, 416.8), 'text': ' Den er faktisk litt større, for her også må de sidene bygges opp.'}, {'timestamp': (420.0, 425.44), 'text': ' Så ser vi at kjernen er inne og hjelper til med å...'}, {'timestamp': (427.32, 433.6), 'text': ' Bygge opp, da, i dette tilfellet 1 million pages. Og det tar litt tid.'}, {'timestamp': (435.92, 441.84), 'text': ' Spørsmål om hvorfor det var så mange cash misses i prog 1.'}, {'timestamp': (441.92, 449.92), 'text': ' Jo, det skyldes at tross alt, selv om man går etter hverandre, så går man veldig langt.'}, {'timestamp': (450.0, 455.8), 'text': ' Her ser vi det er 10 millioner...'}, {'timestamp': (458.52, 464.64), 'text': ' 10 millioner bite, eller da 10 000 kilobite.'}, {'timestamp': (469.04, 474.32), 'text': ' Og hvis du regner med INT, så er det da 40 000 kilobite.'}, {'timestamp': (474.34, 478.24), 'text': ' Og det krever jo da...'}, {'timestamp': (480.0, 488.68), 'text': ' At man lager de 10 000 sidene... her oppe.'}, {'timestamp': (489.36, 496.4), 'text': ' Men spørsmålet var kanskje hvorfor det var så mange cashministers som 801? Jo...'}, {'timestamp': (498.88, 507.0), 'text': ' Cash er da mindre enn 4K, så selv om du...'}, {'timestamp': (510.0, 514.84), 'text': ' Selv om du treffer veldig ofte,'}, {'timestamp': (514.88, 520.36), 'text': ' så er det jo med en gang du kommer utenfor, i første omgang, LN-cash-størrelsen,'}, {'timestamp': (520.36, 525.4), 'text': ' så vil du måtte hoppe over på...'}, {'timestamp': (525.4, 530.2), 'text': ' Så vil LN-cash måtte reflushes.'}, {'timestamp': (530.2, 535.72), 'text': ' Og den vil da reflushes 800 000 ganger når det går oppover.'}, {'timestamp': (535.84, 539.8), 'text': ' Først med opptil 100, og så...'}, {'timestamp': (540.0, 547.96), 'text': ' Men du ser du skal helt opp til 10 millioner. Så derfor vil du ha flere cashmisses enn der...'}]}
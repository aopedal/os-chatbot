{'text': " Sånn. Da skal vi se på... Kalkmani. Det er et trådprogram implementert i Java, som implementerer en rekke tråder... Det var noen oppgaver i forrige uke som gikk ut på at man skulle se på hvor mange tråder som kjøres av operativsystemet når man kjører to tråder. Og da var det overraskende nok så var det veldig mange tråder som kjøres. Og det var en masse sånne workertreads som operativsystemet setter opp. Og som operativsystemet skredulerer. Så det er hjelpetråder som står klare til å gjøre alle slags forskjellige oppgaver. Det koster ikke så mye å ha disse ekstra trådene, så derfor er det veldig mange programmer, sånn som Java og Chrome og andre applikasjoner, som kjører en rekke tråder. Det koster ganske lite for operativsystemet å ha de trådene kjørende når de ikke brukes i PU. Men her er da et eksempel på... Et eksempel som kjører med mange tråder. Så vi kan gå ned til klassen Calcmanny her, som er main. Og det som skjer her, er at vi definerer en intreds som er 20. Så det vi skal gjøre, er å starte 20 uavhengige tråder. Her opprettes et nytt trådobjekt, menu. Her opprettes en ny tråd. Og så skriver jeg bare ut at vi starter... At vi starter 20.30. Og så går jeg inn i forløkket. Her starter jeg da tråd nummer null...... and new calcthread. Og så når college én, så starter jeg tråd nummer én osv. Og så kaller jeg på startmetoden for tråden. Så dette skjer da 20 ganger. Og hvis vi går opp her, så ser vi hva som skjer når calchtread... kalles. Da... Når Calcred startes opp, så kjøres denne Inject-metoden her. Count pluss-pluss. Da er det viktig å huske at... Count er definert som static. Og det betyr at det finnes bare én av den for alle trådene. En variabel som ikke blir deklarert som static, som int id, den har vi da 20 stykker av. Når vi har en maks her, så kunne også den vært static. For den skal være en samme for alle. Men her lager vi også 20 maks. Men det viktigste her er konto id. Så hver gang vi gjør... Så økes den felles variabelen. Og dermed så teller den opp fra én og opp til 20. Og så setter ID en leak count, så da får vi en ID på hver. Og så sier jeg tredd nummer først én i starting, så tredd... Nummer én calculated work. Og her ser vi at den tråden gjør... La oss se bort fra den som er kommentert bort her. Men det som skjer inneni work, er at 15 ganger så regner det ut en kjempelang løkke. Java er såpass rask at selv om man står og regner sånn som dette her, så kan man gjøre det 900 millioner ganger. Hvis man lager et høyere tall der, så blir det høyere enn en int. Så da får man trøbbel. Dette er ekstremt mange ganger den går. Men likevel så regner det mange ganger. Og det som er hovedpoenget her nå, med tråder, er at når vi setter i gang de, så kjører de samtidig. Så vi kan... Vi kan kompilere. Og... Ja, vi kan kjøre det her kanskje. Bare i sidevinduet, så vi kan se på trådene mens vi kjører. Jeg ser det starter veldig kjapt, så startes det opp 20 tråder. Så kan vi se på det i topp. I utgangspunktet så ser vi at... Det er én prosess som kjører. Men hvis vi legger på... Hvis vi velger ut 'number of threads', så ser vi at den ene prosessen som kjører, den har 37 tråder. Vi ser også at faktisk de fleste andre prosesser også har en rekke... Sånn som Zoom. Jeg har 64 tråder. Ops, har 27. Men det som er spesielt med våre tråder nå, er at 20 av de er de regnetrådene som vi har startet. Hvis vi taster H, stor H, så får vi se alle trådene. Da ser vi at det er 20 tråder som står og kjører. Så kunne vi også ta og... Se på Last Use CPU. Hvis jeg velger den også... Så ser vi da at trådene er skredulert på forskjellige CPU-er. Noen er da så klart på mange, for her er det bare 0 til 7 av CPU-er. Men vi ser da hvordan det er operativsystemet som skredulerer alle trådene. Og så blir de skedulert av OS. Og akkurat det samme er det med alle de andre programmene. De starter en rekke tråder, men de blir skedulert som helt uavhengige enheter.", 'chunks': [{'timestamp': (0.0, 6.88), 'text': ' Sånn. Da skal vi se på...'}, {'timestamp': (10.64, 18.38), 'text': ' Kalkmani. Det er et trådprogram'}, {'timestamp': (18.38, 27.12), 'text': ' implementert i Java, som implementerer en rekke tråder...'}, {'timestamp': (30.0, 35.58), 'text': ' Det var noen oppgaver i forrige uke som gikk ut på'}, {'timestamp': (35.58, 40.76), 'text': ' at man skulle se på hvor mange tråder som kjøres av operativsystemet'}, {'timestamp': (40.84, 43.96), 'text': ' når man kjører to tråder.'}, {'timestamp': (43.96, 51.08), 'text': ' Og da var det overraskende nok så var det veldig mange tråder som kjøres.'}, {'timestamp': (51.16, 57.96), 'text': ' Og det var en masse sånne workertreads som operativsystemet setter opp.'}, {'timestamp': (60.0, 63.4), 'text': ' Og som operativsystemet skredulerer.'}, {'timestamp': (63.4, 69.7), 'text': ' Så det er hjelpetråder som står klare til å gjøre alle slags forskjellige oppgaver.'}, {'timestamp': (69.72, 73.36), 'text': ' Det koster ikke så mye å ha disse ekstra trådene,'}, {'timestamp': (73.44, 78.48), 'text': ' så derfor er det veldig mange programmer, sånn som Java og Chrome'}, {'timestamp': (78.5, 82.0), 'text': ' og andre applikasjoner, som kjører en rekke tråder.'}, {'timestamp': (82.0, 87.52), 'text': ' Det koster ganske lite for operativsystemet å ha de trådene kjørende'}, {'timestamp': (87.6, 88.92), 'text': ' når de ikke brukes i PU.'}, {'timestamp': (90.0, 95.56), 'text': ' Men her er da et eksempel på...'}, {'timestamp': (97.84, 99.92), 'text': ' Et eksempel som kjører med mange tråder.'}, {'timestamp': (99.92, 106.76), 'text': ' Så vi kan gå ned til klassen Calcmanny her, som er main.'}, {'timestamp': (106.76, 113.84), 'text': ' Og det som skjer her, er at vi definerer en intreds som er 20.'}, {'timestamp': (113.94, 118.44), 'text': ' Så det vi skal gjøre, er å starte 20 uavhengige tråder.'}, {'timestamp': (120.0, 129.06), 'text': ' Her opprettes et nytt trådobjekt, menu.'}, {'timestamp': (129.06, 132.94), 'text': ' Her opprettes en ny tråd.'}, {'timestamp': (132.94, 138.86), 'text': ' Og så skriver jeg bare ut at vi starter...'}, {'timestamp': (140.28, 146.16), 'text': ' At vi starter 20.30. Og så går jeg inn i forløkket.'}, {'timestamp': (150.0, 154.26), 'text': ' Her starter jeg da tråd nummer null...'}, {'timestamp': (154.28, 157.4), 'text': '... and new calcthread.'}, {'timestamp': (157.48, 162.76), 'text': ' Og så når college én, så starter jeg tråd nummer én osv.'}, {'timestamp': (162.76, 167.8), 'text': ' Og så kaller jeg på startmetoden for tråden.'}, {'timestamp': (167.96, 173.08), 'text': ' Så dette skjer da 20 ganger. Og hvis vi går opp her, så ser vi'}, {'timestamp': (173.08, 178.04), 'text': ' hva som skjer når calchtread... kalles.'}, {'timestamp': (180.0, 189.32), 'text': ' Da... Når Calcred startes opp, så kjøres denne Inject-metoden her.'}, {'timestamp': (189.32, 197.0), 'text': ' Count pluss-pluss. Da er det viktig å huske at...'}, {'timestamp': (197.0, 201.2), 'text': ' Count er definert som static.'}, {'timestamp': (201.2, 207.88), 'text': ' Og det betyr at det finnes bare én av den for alle trådene.'}, {'timestamp': (210.0, 220.04), 'text': ' En variabel som ikke blir deklarert som static, som int id, den har vi da 20 stykker av.'}, {'timestamp': (224.66, 229.24), 'text': ' Når vi har en maks her, så kunne også den vært static.'}, {'timestamp': (229.32, 234.84), 'text': ' For den skal være en samme for alle. Men her lager vi også 20 maks.'}, {'timestamp': (234.84, 239.0), 'text': ' Men det viktigste her er konto id. Så hver gang vi gjør...'}, {'timestamp': (240.0, 244.88), 'text': ' Så økes den felles variabelen.'}, {'timestamp': (244.88, 251.68), 'text': ' Og dermed så teller den opp fra én og opp til 20.'}, {'timestamp': (252.6, 256.28), 'text': ' Og så setter ID en leak count, så da får vi en ID på hver.'}, {'timestamp': (256.36, 262.04), 'text': ' Og så sier jeg tredd nummer først én i starting, så tredd...'}, {'timestamp': (262.12, 268.2), 'text': ' Nummer én calculated work. Og her ser vi at den tråden gjør...'}, {'timestamp': (270.02, 275.1), 'text': ' La oss se bort fra den som er kommentert bort her.'}, {'timestamp': (275.18, 285.1), 'text': ' Men det som skjer inneni work, er at 15 ganger så regner det ut en kjempelang løkke.'}, {'timestamp': (286.94, 291.3), 'text': ' Java er såpass rask at selv om man står og regner sånn som dette her,'}, {'timestamp': (291.38, 299.98), 'text': ' så kan man gjøre det 900 millioner ganger.'}, {'timestamp': (300.0, 307.24), 'text': ' Hvis man lager et høyere tall der, så blir det høyere enn en int.'}, {'timestamp': (307.24, 311.52), 'text': ' Så da får man trøbbel. Dette er ekstremt mange ganger den går.'}, {'timestamp': (311.54, 313.96), 'text': ' Men likevel så regner det mange ganger.'}, {'timestamp': (313.96, 317.96), 'text': ' Og det som er hovedpoenget her nå, med tråder,'}, {'timestamp': (318.04, 326.0), 'text': ' er at når vi setter i gang de, så kjører de samtidig. Så vi kan...'}, {'timestamp': (330.0, 333.22), 'text': ' Vi kan kompilere.'}, {'timestamp': (334.82, 340.46), 'text': ' Og... Ja, vi kan kjøre det her kanskje.'}, {'timestamp': (340.46, 346.62), 'text': ' Bare i sidevinduet, så vi kan se på trådene mens vi kjører.'}, {'timestamp': (346.62, 352.66), 'text': ' Jeg ser det starter veldig kjapt, så startes det opp 20 tråder.'}, {'timestamp': (352.66, 359.98), 'text': ' Så kan vi se på det i topp. I utgangspunktet så ser vi at...'}, {'timestamp': (360.0, 365.92), 'text': ' Det er én prosess som kjører.'}, {'timestamp': (365.94, 369.2), 'text': ' Men hvis vi legger på...'}, {'timestamp': (372.66, 376.5), 'text': " Hvis vi velger ut 'number of threads',"}, {'timestamp': (376.5, 382.32), 'text': ' så ser vi at den ene prosessen som kjører, den har 37 tråder.'}, {'timestamp': (382.34, 388.3), 'text': ' Vi ser også at faktisk de fleste andre prosesser også har en rekke...'}, {'timestamp': (390.0, 395.64), 'text': ' Sånn som Zoom. Jeg har 64 tråder. Ops, har 27.'}, {'timestamp': (395.72, 399.16), 'text': ' Men det som er spesielt med våre tråder nå,'}, {'timestamp': (399.24, 403.0), 'text': ' er at 20 av de er de regnetrådene som vi har startet.'}, {'timestamp': (403.0, 410.36), 'text': ' Hvis vi taster H, stor H, så får vi se alle trådene.'}, {'timestamp': (410.36, 416.36), 'text': ' Da ser vi at det er 20 tråder som står og kjører.'}, {'timestamp': (416.36, 418.92), 'text': ' Så kunne vi også ta og...'}, {'timestamp': (420.0, 426.12), 'text': ' Se på Last Use CPU. Hvis jeg velger den også...'}, {'timestamp': (426.12, 433.08), 'text': ' Så ser vi da at trådene er skredulert på forskjellige CPU-er.'}, {'timestamp': (433.08, 439.96), 'text': ' Noen er da så klart på mange, for her er det bare 0 til 7 av CPU-er.'}, {'timestamp': (439.96, 447.96), 'text': ' Men vi ser da hvordan det er operativsystemet som skredulerer alle trådene.'}, {'timestamp': (450.0, 453.64), 'text': ' Og så blir de skedulert av OS.'}, {'timestamp': (453.64, 458.6), 'text': ' Og akkurat det samme er det med alle de andre programmene.'}, {'timestamp': (458.6, 461.72), 'text': ' De starter en rekke tråder,'}, {'timestamp': (461.8, 465.0), 'text': ' men de blir skedulert som helt uavhengige enheter.'}]}
{'text': ' Så tenkte jeg kunne si litt om... Denne simuleringen som jeg snakket om. Skal vi se... Her. Skedulering av samtidig forelesning og vaffelrørlaging. Ja, dere kan jo i fred og ro kose dere med denne videoen. Litt popkorn og cola osv. Så kan dere se hvordan et operativsystem virker i praksis. Det jeg har prøvd å gjøre her, er å lage et operativsystem som bruker dette med poker fra Linux 2.6-kjernen. Og stort sett opererer på samme måte. Og da vil dere se i videoen at jeg har på en... En bandyhjelm, eller en sykkelhjelm? Eller iallfall en hjelm. Og hovedpoenget med den hjelmen, det er modusbyttet. Så dere kan se... Når timeren går av, så tar jeg på meg hjelmen. Og dette skal da skje automatisk. Det er på en måte hardware som gjør det. Med en gang jeg sier den piper, så skal hjelmen komme på av seg selv. Det er vanskelig å være operativ system, så det er ikke alltid jeg klarer å få det helt til. Men det er utgangspunktet. Så det er da et ytre interrupt. Og så i tillegg så har vi noen... Så dette er da institusjoner, operatissysteminstitusjoner. Så dette er kjernen. Så jeg starter opp med å lese readylist over prosesser som jeg ønsker skal kjøre. Og så er det da to prosesser. Kan hoppe til det. Vaffelprosess og Forelesningsprosess. Og disse to prosessene, det er da to programmer som jeg ønsker å kjøre. Og vaffelprosessen, det er omtrent sånn som jeg lager vafler. Selv om jeg ikke skriver når jeg assemblerer kode for det. Og så sjekker jeg om det er blandet. Det er en typisk compare-oppgave. JMPNB - jump not blandet. Da hopper jeg tilbake, og så fortsetter det sånn. Men så kommer det et viktig poeng i denne sammenhengen. Og det er når jeg skal hente melk... Det tilsvarer på en måte at jeg skal... Nå trenger jeg melk til røra, og det ligger på disk. Og da må jeg gjøre et systemkall. For det å hente melk må jeg få hjelp av operativsystemkjernen til å gjøre. Og da er jeg et vanlig program som opererer uten hjelm. Og så når jeg gjør et systemkall, da vil du se at da kommer hjelmen på. For da må jeg be operativsystemkjernen om hjelp. Da ber kjernen... Den setter i gang den prosessen. Eller da hopper vi tilbake til kjernekode et eller annet sted her. Jo, her er det... Legg melk i buffer. Set need rechard osv. Og så vil dere se at det er Eva, som mange av dere kjenner fra Diskrematematikk, som er melkemannen i dette opplegget. Spoiler alert... At det fungerer ikke helt optimalt. For tanken er at... Dette med å hente melk skal ta veldig lang tid. Men det har jeg ikke formidlet godt nok. Og jeg bare står på døra med melken med en gang. Da blir det litt forviklinger. Dere får se. Og hovedpoenget er da at en vanlig brukerprosess må bli bedre. Og da tar den på en måte frivillig på seg... hjelmen, og kommer over i køllen mot... Mens så ville hvert minutt... Så skjer det et timertick, for jeg har en hardware-timer. Det er en sånn liten kjøkkenklokke som hvert minutt så ringer den. Og da kommer hjelmen automatisk rett på. Og så... Her er en timer call. Det er den interrupt-rutinen som man hopper til når det kommer et time-out-call. Og da ser du... Da sjekkes det om counter er null. Hvis summen av alle er null, så startes en ny epoke. Hvis ikke, så... Ja, hvis den ene counteren... Er den null, så flyttes den fra ready-list, og så gjør man et kall til scheduler. Og så kommer scheduleren inn, og da velger den én av de to prosessene som skal kjøre. Men hvis det ikke har skjedd noe spesielt, hvis det ikke har vært noe interrupt, så er det bare den prosessen som står og kjører, som fortsetter, sånn at man unngår context switch. Hvis ikke, så må man sette i gang et context switch. Eller så switcher man til forelesningsprosessen. Og forelesningsprosessen, det er denne prosessen her hvor jeg har dagens faktum og snakker om Linux og utviklingen av Linux, og Linus Torvalds bor på en hybel i Helsinki osv. Og det er da altså operasjoner som jeg som hardware... Jeg ønsker å få utført disse to prosessene her samtidig. Og så ønsker jeg at de ikke skal ødelegge for hverandre. Og da har jeg da den tredje prosessen, som er operativ stemkjernen, som sørger for at disse to samkjører på en riktig måte. Sånn jeg gjør det, ligger den ganske så tett opp til Linux 2.6-kjernen med epoker, så det er en relativt realistisk simulering. Men den ligger som sagt her. Ja, dere har også sett på OS Egg. Det er liksom høydepunktet. Her vil dere se hvorfor det er viktig å ha på seg hjelm når man skal knuse egg. For å knuse egg er opplagt noe som du må gjøre med et systemkall. Det kan ikke en vanlig brukerprosess gjøre. Så jeg håper dere får... At det også er litt fornøyelse å se på dette her. Men samtidig så er det veldig seriøst. Det er akkurat sånn... Eller det er veldig tett opptil hvordan operativsystemet utfører sin kjernevirksomhet. Bruke hjelm når man klekker egg? Nei, når man knuser egg.', 'chunks': [{'timestamp': (0.0, 3.94), 'text': ' Så tenkte jeg kunne si litt om...'}, {'timestamp': (5.08, 10.0), 'text': ' Denne simuleringen som jeg snakket om.'}, {'timestamp': (13.56, 16.82), 'text': ' Skal vi se... Her.'}, {'timestamp': (16.82, 23.8), 'text': ' Skedulering av samtidig forelesning og vaffelrørlaging.'}, {'timestamp': (25.6, 28.28), 'text': ' Ja, dere kan jo i fred og ro kose dere med denne videoen.'}, {'timestamp': (30.0, 33.12), 'text': ' Litt popkorn og cola osv.'}, {'timestamp': (33.88, 37.92), 'text': ' Så kan dere se hvordan et operativsystem virker i praksis.'}, {'timestamp': (38.92, 43.64), 'text': ' Det jeg har prøvd å gjøre her, er å lage et operativsystem'}, {'timestamp': (43.76, 48.56), 'text': ' som bruker dette med poker fra Linux 2.6-kjernen.'}, {'timestamp': (48.56, 52.56), 'text': ' Og stort sett opererer på samme måte.'}, {'timestamp': (52.68, 59.72), 'text': ' Og da vil dere se i videoen at jeg har på en...'}, {'timestamp': (60.0, 64.1), 'text': ' En bandyhjelm, eller en sykkelhjelm? Eller iallfall en hjelm.'}, {'timestamp': (64.12, 68.92), 'text': ' Og hovedpoenget med den hjelmen, det er modusbyttet.'}, {'timestamp': (68.96, 74.04), 'text': ' Så dere kan se... Når timeren går av, så tar jeg på meg hjelmen.'}, {'timestamp': (74.04, 79.04), 'text': ' Og dette skal da skje automatisk. Det er på en måte hardware som gjør det.'}, {'timestamp': (79.06, 84.66), 'text': ' Med en gang jeg sier den piper, så skal hjelmen komme på av seg selv.'}, {'timestamp': (85.24, 89.92), 'text': ' Det er vanskelig å være operativ system, så det er ikke alltid jeg klarer å få det helt til.'}, {'timestamp': (90.0, 96.42), 'text': ' Men det er utgangspunktet. Så det er da et ytre interrupt.'}, {'timestamp': (97.72, 103.32), 'text': ' Og så i tillegg så har vi noen...'}, {'timestamp': (103.32, 109.3), 'text': ' Så dette er da institusjoner, operatissysteminstitusjoner.'}, {'timestamp': (109.38, 114.34), 'text': ' Så dette er kjernen. Så jeg starter opp med'}, {'timestamp': (114.34, 118.38), 'text': ' å lese readylist over prosesser som jeg ønsker skal kjøre.'}, {'timestamp': (120.0, 128.32), 'text': ' Og så er det da to prosesser. Kan hoppe til det.'}, {'timestamp': (129.28, 131.8), 'text': ' Vaffelprosess og Forelesningsprosess.'}, {'timestamp': (131.92, 138.68), 'text': ' Og disse to prosessene, det er da to programmer som jeg ønsker å kjøre.'}, {'timestamp': (138.68, 144.18), 'text': ' Og vaffelprosessen, det er omtrent sånn som jeg lager vafler.'}, {'timestamp': (144.18, 148.68), 'text': ' Selv om jeg ikke skriver når jeg assemblerer kode for det.'}, {'timestamp': (150.0, 158.68), 'text': ' Og så sjekker jeg om det er blandet. Det er en typisk compare-oppgave.'}, {'timestamp': (158.68, 165.28), 'text': ' JMPNB - jump not blandet. Da hopper jeg tilbake, og så fortsetter det sånn.'}, {'timestamp': (165.36, 169.88), 'text': ' Men så kommer det et viktig poeng i denne sammenhengen.'}, {'timestamp': (170.64, 176.58), 'text': ' Og det er når jeg skal hente melk... Det tilsvarer på en måte at jeg skal...'}, {'timestamp': (176.6, 179.96), 'text': ' Nå trenger jeg melk til røra, og det ligger på disk.'}, {'timestamp': (180.0, 184.32), 'text': ' Og da må jeg gjøre et systemkall.'}, {'timestamp': (184.32, 190.36), 'text': ' For det å hente melk må jeg få hjelp av operativsystemkjernen til å gjøre.'}, {'timestamp': (190.36, 196.48), 'text': ' Og da er jeg et vanlig program som opererer uten hjelm.'}, {'timestamp': (196.48, 202.4), 'text': ' Og så når jeg gjør et systemkall, da vil du se at da kommer hjelmen på.'}, {'timestamp': (202.44, 208.24), 'text': ' For da må jeg be operativsystemkjernen om hjelp.'}, {'timestamp': (210.0, 214.84), 'text': ' Da ber kjernen... Den setter i gang den prosessen.'}, {'timestamp': (215.72, 221.76), 'text': ' Eller da hopper vi tilbake til kjernekode et eller annet sted her.'}, {'timestamp': (221.76, 227.28), 'text': ' Jo, her er det... Legg melk i buffer. Set need rechard osv.'}, {'timestamp': (227.28, 232.88), 'text': ' Og så vil dere se at det er Eva, som mange av dere kjenner'}, {'timestamp': (232.96, 238.68), 'text': ' fra Diskrematematikk, som er melkemannen i dette opplegget.'}, {'timestamp': (240.0, 245.56), 'text': ' Spoiler alert... At det fungerer ikke helt optimalt.'}, {'timestamp': (246.28, 251.0), 'text': ' For tanken er at... Dette med å hente melk skal ta veldig lang tid.'}, {'timestamp': (251.0, 254.88), 'text': ' Men det har jeg ikke formidlet godt nok.'}, {'timestamp': (254.96, 259.88), 'text': ' Og jeg bare står på døra med melken med en gang.'}, {'timestamp': (260.5, 263.84), 'text': ' Da blir det litt forviklinger. Dere får se.'}, {'timestamp': (263.84, 268.76), 'text': ' Og hovedpoenget er da at en vanlig brukerprosess må bli bedre.'}, {'timestamp': (270.0, 277.12), 'text': ' Og da tar den på en måte frivillig på seg... hjelmen,'}, {'timestamp': (277.12, 284.6), 'text': ' og kommer over i køllen mot... Mens så ville hvert minutt...'}, {'timestamp': (285.24, 288.4), 'text': ' Så skjer det et timertick, for jeg har en hardware-timer.'}, {'timestamp': (288.4, 293.08), 'text': ' Det er en sånn liten kjøkkenklokke som hvert minutt så ringer den.'}, {'timestamp': (293.16, 298.68), 'text': ' Og da kommer hjelmen automatisk rett på. Og så... Her er en timer call.'}, {'timestamp': (300.0, 308.48), 'text': ' Det er den interrupt-rutinen som man hopper til'}, {'timestamp': (308.56, 311.92), 'text': ' når det kommer et time-out-call.'}, {'timestamp': (311.92, 317.48), 'text': ' Og da ser du... Da sjekkes det om counter er null.'}, {'timestamp': (317.48, 322.68), 'text': ' Hvis summen av alle er null, så startes en ny epoke.'}, {'timestamp': (323.28, 328.04), 'text': ' Hvis ikke, så... Ja, hvis den ene counteren...'}, {'timestamp': (330.0, 334.0), 'text': ' Er den null, så flyttes den fra ready-list,'}, {'timestamp': (334.04, 337.88), 'text': ' og så gjør man et kall til scheduler.'}, {'timestamp': (338.22, 342.3), 'text': ' Og så kommer scheduleren inn, og da velger den én av de to prosessene'}, {'timestamp': (343.36, 346.48), 'text': ' som skal kjøre. Men hvis det ikke har skjedd noe spesielt,'}, {'timestamp': (346.56, 351.32), 'text': ' hvis det ikke har vært noe interrupt, så er det bare den prosessen'}, {'timestamp': (351.32, 355.32), 'text': ' som står og kjører, som fortsetter, sånn at man unngår context switch.'}, {'timestamp': (355.4, 359.0), 'text': ' Hvis ikke, så må man sette i gang et context switch.'}, {'timestamp': (360.0, 363.74), 'text': ' Eller så switcher man til forelesningsprosessen.'}, {'timestamp': (363.74, 369.58), 'text': ' Og forelesningsprosessen, det er denne prosessen her'}, {'timestamp': (369.66, 373.62), 'text': ' hvor jeg har dagens faktum og snakker om Linux'}, {'timestamp': (373.7, 379.3), 'text': ' og utviklingen av Linux, og Linus Torvalds bor på en hybel i Helsinki osv.'}, {'timestamp': (379.38, 385.62), 'text': ' Og det er da altså operasjoner som jeg som hardware...'}, {'timestamp': (385.7, 389.98), 'text': ' Jeg ønsker å få utført disse to prosessene her samtidig.'}, {'timestamp': (390.0, 394.08), 'text': ' Og så ønsker jeg at de ikke skal ødelegge for hverandre.'}, {'timestamp': (394.52, 398.8), 'text': ' Og da har jeg da den tredje prosessen, som er operativ stemkjernen,'}, {'timestamp': (399.38, 403.08), 'text': ' som sørger for at disse to samkjører på en riktig måte.'}, {'timestamp': (403.08, 409.12), 'text': ' Sånn jeg gjør det, ligger den ganske så tett opp til Linux 2.6-kjernen med epoker,'}, {'timestamp': (409.24, 418.36), 'text': ' så det er en relativt realistisk simulering. Men den ligger som sagt her.'}, {'timestamp': (420.0, 426.76), 'text': ' Ja, dere har også sett på OS Egg. Det er liksom høydepunktet.'}, {'timestamp': (426.76, 434.68), 'text': ' Her vil dere se hvorfor det er viktig å ha på seg hjelm når man skal knuse egg.'}, {'timestamp': (434.8, 439.6), 'text': ' For å knuse egg er opplagt noe som du må gjøre med et systemkall.'}, {'timestamp': (439.72, 445.64), 'text': ' Det kan ikke en vanlig brukerprosess gjøre.'}, {'timestamp': (445.64, 445.66), 'text': ''}, {'timestamp': (451.66, 456.58), 'text': ' Så jeg håper dere får... At det også er litt fornøyelse å se på dette her.'}, {'timestamp': (456.66, 461.76), 'text': ' Men samtidig så er det veldig seriøst. Det er akkurat sånn...'}, {'timestamp': (461.78, 464.66), 'text': ' Eller det er veldig tett opptil hvordan operativsystemet'}, {'timestamp': (464.66, 469.42), 'text': ' utfører sin kjernevirksomhet.'}, {'timestamp': (469.54, 474.54), 'text': ' Bruke hjelm når man klekker egg? Nei, når man knuser egg.'}]}
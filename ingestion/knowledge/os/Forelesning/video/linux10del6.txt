{'text': " Det punktet vi så på nå, var kanskje det mest teknisk kompliserte med virtualisering. Hvis du ikke fikk det helt med, så prøv å se gjennom de slidene et par ganger til. Men jeg kan gjenta det som er hovedpoenget. Det er at når vi kjører virtuelle maskiner, så kjører Gjeste-OS, altså det operativsystemet som da kjører Det kjører i user mode. For Hypoviser har nå rollen til operativsystemkjernen og kjører i corner mode. Tidligere når vi så på dette med at vi bare hadde et operativsystem, så ble denne boksen operativsystemet sitt. Og oppå denne boksen så kjørte applikasjonene. Og da var det alltid sånn, applikasjonene måtte spørre OS-kjernen. Og de måtte bruke kjernekall osv. Men applikasjoner kjørte da alltid i use mode. Hvis de skulle be OS om noe, så måtte de bruke systemkall. Men nå er de rollene snudd litt på hodet. Hypervisor har rollen å kjøre i curl-mode. Og gjeste-OS, det må da be Hypervisor om tjenester. Men det er problemet... Når vi virtualiserer, så ønsker vi at Gjest-OS skal kunne oppføre seg nøyaktig som om det OS-et kjørte direkte på hardware. Da er det klart at hvis Gjest-OS utfører en instruksjon... Om jeg kan gjenta det siste? Ja, jeg kan prøve. Så... Hypervisor har rollen til operativsystemkjernen. Den kjører i curlen mode. Du kan se på hypervisor som en operativsystemkjerne. Når det gjelder KVM, så er hypervisor faktisk Linux-operativsystemet. Så hypervisor kjører direkte på hardware. Når gjeste-OS kjører, så må det derfor kjøre i user-mode. Og når gjeste-OS skal Når GjestOS skal utføre en institusjon som bare kan kjøres i current mode, så forventer GjestOS at denne institusjonen, den... 'Jeg er i current mode. I denne institusjonen skal jeg kunne kjøre.' Dette skal f.eks. kunne skru av interrupts. Men det GjestOS ikke vet, er at den kjører i use of mode. Og det ikke er hardware-støtte for virtualisering. Så vil POPF-institusjonen bare forsvinne ut i løse luften. Ingenting vil skje. Den vil ikke trappe ned til Hypervisor, sånn at Hypervisor kan sørge for at det GjestOS ønsker å gjøre, blir gjort. Og dermed så... Hvis ikke alle sensitive instruksjoner Hvis institusjoner trapper ned til hypervisor, vil ikke virtualiseringen fungere. Det vi så på, sensitive institusjoner, det er de som bare kan utføres i curlen mode. Alle disse må trappe, ellers så vil ikke OS oppleve at det er et OS. Da vil du oppleve at noen av institusjonene bare forsvinner ut i lufta fordi de utføres i use mode. Det betyr at alle sensitive institusjoner må være privilegerte. Alle kjerneinstitusjoner som gjøres av gjeste-OS i use-mode, må trappe til hypervisor, slik at hypervisor kan sørge for at det gjeste-OS ønsker å gjøre, det blir utført.", 'chunks': [{'timestamp': (0.0, 5.76), 'text': ' Det punktet vi så på nå, var kanskje det mest teknisk kompliserte'}, {'timestamp': (5.84, 9.2), 'text': ' med virtualisering.'}, {'timestamp': (9.28, 15.28), 'text': ' Hvis du ikke fikk det helt med, så prøv å se gjennom de slidene et par ganger til.'}, {'timestamp': (15.28, 20.04), 'text': ' Men jeg kan gjenta det som er hovedpoenget.'}, {'timestamp': (20.04, 29.92), 'text': ' Det er at når vi kjører virtuelle maskiner, så kjører Gjeste-OS, altså det operativsystemet som da kjører'}, {'timestamp': (30.0, 35.68), 'text': ' Det kjører i user mode.'}, {'timestamp': (35.68, 43.88), 'text': ' For Hypoviser har nå rollen til operativsystemkjernen og kjører i corner mode.'}, {'timestamp': (43.92, 49.24), 'text': ' Tidligere når vi så på dette med at vi bare hadde et operativsystem,'}, {'timestamp': (49.24, 52.76), 'text': ' så ble denne boksen operativsystemet sitt.'}, {'timestamp': (52.76, 57.96), 'text': ' Og oppå denne boksen så kjørte applikasjonene.'}, {'timestamp': (58.04, 59.96), 'text': ' Og da var det alltid sånn, applikasjonene måtte spørre OS-kjernen.'}, {'timestamp': (60.0, 68.12), 'text': ' Og de måtte bruke kjernekall osv. Men applikasjoner kjørte da alltid i use mode.'}, {'timestamp': (68.24, 73.46), 'text': ' Hvis de skulle be OS om noe, så måtte de bruke systemkall.'}, {'timestamp': (73.48, 80.88), 'text': ' Men nå er de rollene snudd litt på hodet. Hypervisor har rollen å kjøre i curl-mode.'}, {'timestamp': (80.9, 89.78), 'text': ' Og gjeste-OS, det må da be Hypervisor om tjenester. Men det er problemet...'}, {'timestamp': (90.0, 96.16), 'text': ' Når vi virtualiserer, så ønsker vi at Gjest-OS skal kunne oppføre seg'}, {'timestamp': (96.28, 101.32), 'text': ' nøyaktig som om det OS-et kjørte direkte på hardware.'}, {'timestamp': (101.44, 109.6), 'text': ' Da er det klart at hvis Gjest-OS utfører en instruksjon...'}, {'timestamp': (111.0, 118.8), 'text': ' Om jeg kan gjenta det siste? Ja, jeg kan prøve. Så...'}, {'timestamp': (120.0, 128.54), 'text': ' Hypervisor har rollen til operativsystemkjernen. Den kjører i curlen mode.'}, {'timestamp': (128.62, 131.78), 'text': ' Du kan se på hypervisor som en operativsystemkjerne.'}, {'timestamp': (131.86, 136.54), 'text': ' Når det gjelder KVM, så er hypervisor faktisk Linux-operativsystemet.'}, {'timestamp': (136.54, 139.7), 'text': ' Så hypervisor kjører direkte på hardware.'}, {'timestamp': (139.72, 147.92), 'text': ' Når gjeste-OS kjører, så må det derfor kjøre i user-mode. Og når gjeste-OS skal'}, {'timestamp': (150.0, 159.92), 'text': ' Når GjestOS skal utføre en institusjon som bare kan kjøres i current mode,'}, {'timestamp': (160.04, 163.68), 'text': ' så forventer GjestOS at denne institusjonen, den...'}, {'timestamp': (163.7, 168.68), 'text': " 'Jeg er i current mode. I denne institusjonen skal jeg kunne kjøre.'"}, {'timestamp': (168.8, 173.72), 'text': ' Dette skal f.eks. kunne skru av interrupts.'}, {'timestamp': (173.72, 178.44), 'text': ' Men det GjestOS ikke vet, er at den kjører i use of mode.'}, {'timestamp': (180.02, 185.78), 'text': ' Og det ikke er hardware-støtte for virtualisering.'}, {'timestamp': (185.86, 190.94), 'text': ' Så vil POPF-institusjonen bare forsvinne ut i løse luften. Ingenting vil skje.'}, {'timestamp': (190.94, 196.26), 'text': ' Den vil ikke trappe ned til Hypervisor, sånn at Hypervisor kan sørge for'}, {'timestamp': (196.34, 201.06), 'text': ' at det GjestOS ønsker å gjøre, blir gjort.'}, {'timestamp': (201.98, 208.02), 'text': ' Og dermed så... Hvis ikke alle sensitive instruksjoner'}, {'timestamp': (210.0, 218.68), 'text': ' Hvis institusjoner trapper ned til hypervisor, vil ikke virtualiseringen fungere.'}, {'timestamp': (218.76, 224.72), 'text': ' Det vi så på, sensitive institusjoner, det er de som bare kan utføres i curlen mode.'}, {'timestamp': (224.8, 230.48), 'text': ' Alle disse må trappe, ellers så vil ikke OS oppleve at det er et OS.'}, {'timestamp': (230.48, 237.76), 'text': ' Da vil du oppleve at noen av institusjonene bare forsvinner ut i lufta fordi de utføres i use mode.'}, {'timestamp': (240.0, 245.84), 'text': ' Det betyr at alle sensitive institusjoner må være privilegerte.'}, {'timestamp': (245.92, 249.52), 'text': ' Alle kjerneinstitusjoner som gjøres av gjeste-OS i use-mode,'}, {'timestamp': (249.6, 255.0), 'text': ' må trappe til hypervisor, slik at hypervisor kan sørge for at det gjeste-OS ønsker å gjøre,'}, {'timestamp': (255.08, 257.04), 'text': ' det blir utført.'}]}
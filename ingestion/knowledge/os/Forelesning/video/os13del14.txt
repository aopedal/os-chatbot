{'text': ' Som vi har argumentert for tidligere, så må alle de virtuelle adressene kunne knyttes til fysiske adresser. Som jeg nevnte, så kunne det skjedd ved Loading. Men det er både tidkrevende og tungvint og lite dynamisk. Så i alle moderne OS gjøres dette dynamisk mens programmet kjører. Og det gjør at man kan flytte inn og ut programmer og biblioteker... som operativstemme ønsker, når det vil for å kunne kjøre alle programmer mest mulig effektivt. Vi kunne hatt sånn at operativstemme oversatte mellom fysiske adresser og de logiske eller virtuelle. Men det ville gått altfor sakte. Man kan ikke ha kode som gjør det. Fordi disse operasjonene foregår hele tiden. Så dette må skje i brøkdelen av et sekund. Vi trenger hjelp fra hardware. Vi trenger en egen enhet, MMU, Memory Management Unit. Og dette er skissert et bilde av MMU-en. Vi så på den simulerte CPU-en at vi har en databuss, og det er da linjer med bits som går fra CPU-en og ut i ram. Den adressebiten, den oversettes av MMU. CPU-en sender ut en logisk adresse, så oversetter MMU-en til fysisk adresse. Så kobles den på databussen. Det er da linjer som går herfra og inn hit. Så trykker de linjene på... La oss si jeg har sendt meg adresse... MMU oversetter... La oss si logisk adresse 8 til fysisk adresse 1008. Så går 1008 ut hit. Så kobler man på RAM 1008 med bits... bang, bang, bang... inn her. Og dermed leses det som ligger i byte nummer 1008, og så sendes det tilbake til Zepperun. Og det skjer hver eneste gang man henter noe i RAM. Ja... Vi skal se på et lite eksempel, litt sånn fiktivt eksempel med program 1 og program 2. Som skal kjøres, for å se hvordan det kan se ut i praksis. Og etter at man har kompilert programmene, så er adressene logiske. Og da må man ha en MMU, eller en eller annen slags MMU-tabell, som oversetter de logiske, eller virtuelle, adressene til det fysiske. Da kan det f.eks. se sånn ut. Program 1, vi har kompilert det. Da står det i program 1, f.eks. på linje 24, så står det "-low 32". Det betyr å laste inn i CPU-en det som ligger på linje 32 i ram. Som i dette tilfellet er tallet 671. Så har vi noe tilsvarende i program 2. På linje 28 i program 2 så står det kanskje "-low 36". Det betyr å laste inn denne 712, som ligger på linje 36 i ram. Når disse skal kjøres, så legges program 1 og program 2. De loads inn i ramm. Og her har de fått en plassering. Men da ser vi at ingen av disse virtuelle adressene vil være de riktig fysiske. F.eks. program 1 har tilfeldigvis havnet der på 100. Program 2 har havnet på 150. Når Program 1 sier ".load 32", så mener det egentlig load 132. Og det er da 132 må sendes ut på minibussen, sånn at programmet får denne verdien. Men husk at load 32, når den skal kjøres, først må det lasses inn i CPU-en. Så utføres load 32. Og da vil CPU-en, ved hjelp av MMM-en, oversette 32 til... Og så sendes det tilbake hit. Så da kunne man jo tenke seg at man hadde en tabell som ordner dette her. Jeg ser spørsmål i chatten. Logiske adresser og er de samme som virtuelle? Ja, jeg bruker det litt om hverandre. Logiske eller virtuelle adresser. Hovedpoenget er at de må oversettes til fysiske adresser. Sånn så tabellen ut som dette her. For program 1 så kunne vi si OK, adresse 24, den mappes over til 124. For program 2, adresse 28, mappes over til 178. Men det er klart, da hadde vi jo plutselig en tabell som var like stor som hele ramm. Så dette er helt umulig. Og altfor minnekrevende. Men vi kunne i stedet dele opp det logiske minnet i pages. Så kunne vi ha en side med 50 adresser. Og så kan vi si program 1 starter på adresse 100, og program 2 starter på adresse 150. Og dermed har vi bare én faktor som må legges til. For da sier vi at program 1 ligger på denne siden, og alle adresser må da bare... Man må legge på 100. Og det er i praksis sånn... Omtrent sånn MMU virker.', 'chunks': [{'timestamp': (0.0, 4.92), 'text': ' Som vi har argumentert for tidligere,'}, {'timestamp': (5.0, 12.72), 'text': ' så må alle de virtuelle adressene kunne knyttes til fysiske adresser.'}, {'timestamp': (12.72, 16.5), 'text': ' Som jeg nevnte, så kunne det skjedd ved Loading.'}, {'timestamp': (16.52, 21.0), 'text': ' Men det er både tidkrevende og tungvint og lite dynamisk.'}, {'timestamp': (21.08, 25.62), 'text': ' Så i alle moderne OS gjøres dette dynamisk mens programmet kjører.'}, {'timestamp': (25.64, 29.92), 'text': ' Og det gjør at man kan flytte inn og ut programmer og biblioteker...'}, {'timestamp': (30.0, 34.54), 'text': ' som operativstemme ønsker, når det vil'}, {'timestamp': (34.54, 40.38), 'text': ' for å kunne kjøre alle programmer mest mulig effektivt.'}, {'timestamp': (40.4, 44.08), 'text': ' Vi kunne hatt sånn at operativstemme oversatte'}, {'timestamp': (44.16, 48.92), 'text': ' mellom fysiske adresser og de logiske eller virtuelle.'}, {'timestamp': (48.92, 53.76), 'text': ' Men det ville gått altfor sakte. Man kan ikke ha kode som gjør det.'}, {'timestamp': (53.76, 57.44), 'text': ' Fordi disse operasjonene foregår hele tiden.'}, {'timestamp': (57.52, 59.68), 'text': ' Så dette må skje i brøkdelen av et sekund.'}, {'timestamp': (60.0, 67.4), 'text': ' Vi trenger hjelp fra hardware. Vi trenger en egen enhet, MMU, Memory Management Unit.'}, {'timestamp': (68.78, 75.2), 'text': ' Og dette er skissert et bilde av MMU-en.'}, {'timestamp': (75.22, 81.72), 'text': ' Vi så på den simulerte CPU-en at vi har en databuss,'}, {'timestamp': (81.76, 89.0), 'text': ' og det er da linjer med bits som går fra CPU-en og ut i ram.'}, {'timestamp': (90.0, 94.96), 'text': ' Den adressebiten, den oversettes av MMU.'}, {'timestamp': (94.96, 99.6), 'text': ' CPU-en sender ut en logisk adresse, så oversetter MMU-en til fysisk adresse.'}, {'timestamp': (99.6, 104.68), 'text': ' Så kobles den på databussen. Det er da linjer som går herfra og inn hit.'}, {'timestamp': (104.68, 107.76), 'text': ' Så trykker de linjene på...'}, {'timestamp': (107.78, 113.8), 'text': ' La oss si jeg har sendt meg adresse... MMU oversetter...'}, {'timestamp': (113.8, 119.96), 'text': ' La oss si logisk adresse 8 til fysisk adresse 1008. Så går 1008 ut hit.'}, {'timestamp': (120.0, 125.96), 'text': ' Så kobler man på RAM 1008 med bits... bang, bang, bang... inn her.'}, {'timestamp': (126.12, 129.6), 'text': ' Og dermed leses det som ligger i byte nummer 1008,'}, {'timestamp': (129.68, 133.32), 'text': ' og så sendes det tilbake til Zepperun.'}, {'timestamp': (133.4, 137.4), 'text': ' Og det skjer hver eneste gang man henter noe i RAM.'}, {'timestamp': (142.08, 149.92), 'text': ' Ja... Vi skal se på et lite eksempel, litt sånn fiktivt eksempel med program 1 og program 2.'}, {'timestamp': (150.0, 155.0), 'text': ' Som skal kjøres, for å se hvordan det kan se ut i praksis.'}, {'timestamp': (155.0, 161.12), 'text': ' Og etter at man har kompilert programmene, så er adressene logiske.'}, {'timestamp': (161.12, 165.84), 'text': ' Og da må man ha en MMU, eller en eller annen slags MMU-tabell,'}, {'timestamp': (165.84, 172.2), 'text': ' som oversetter de logiske, eller virtuelle, adressene til det fysiske.'}, {'timestamp': (172.2, 178.96), 'text': ' Da kan det f.eks. se sånn ut. Program 1, vi har kompilert det.'}, {'timestamp': (180.0, 185.28), 'text': ' Da står det i program 1, f.eks. på linje 24, så står det "-low 32".'}, {'timestamp': (185.28, 192.8), 'text': ' Det betyr å laste inn i CPU-en det som ligger på linje 32 i ram.'}, {'timestamp': (192.8, 195.88), 'text': ' Som i dette tilfellet er tallet 671.'}, {'timestamp': (195.88, 199.48), 'text': ' Så har vi noe tilsvarende i program 2.'}, {'timestamp': (200.28, 203.12), 'text': ' På linje 28 i program 2 så står det kanskje "-low 36".'}, {'timestamp': (203.12, 209.84), 'text': ' Det betyr å laste inn denne 712, som ligger på linje 36 i ram.'}, {'timestamp': (210.0, 219.98), 'text': ' Når disse skal kjøres, så legges program 1 og program 2.'}, {'timestamp': (219.98, 225.0), 'text': ' De loads inn i ramm. Og her har de fått en plassering.'}, {'timestamp': (225.0, 230.68), 'text': ' Men da ser vi at ingen av disse virtuelle adressene'}, {'timestamp': (230.76, 233.24), 'text': ' vil være de riktig fysiske.'}, {'timestamp': (233.32, 237.28), 'text': ' F.eks. program 1 har tilfeldigvis havnet der på 100.'}, {'timestamp': (238.2, 239.92), 'text': ' Program 2 har havnet på 150.'}, {'timestamp': (240.0, 246.88), 'text': ' Når Program 1 sier ".load 32", så mener det egentlig load 132.'}, {'timestamp': (246.88, 252.2), 'text': ' Og det er da 132 må sendes ut på minibussen,'}, {'timestamp': (252.2, 255.88), 'text': ' sånn at programmet får denne verdien.'}, {'timestamp': (256.0, 262.2), 'text': ' Men husk at load 32, når den skal kjøres, først må det lasses inn i CPU-en.'}, {'timestamp': (262.2, 267.96), 'text': ' Så utføres load 32. Og da vil CPU-en, ved hjelp av MMM-en, oversette 32 til...'}, {'timestamp': (270.0, 273.48), 'text': ' Og så sendes det tilbake hit.'}, {'timestamp': (273.56, 280.16), 'text': ' Så da kunne man jo tenke seg at man hadde en tabell som ordner dette her.'}, {'timestamp': (280.7, 286.4), 'text': ' Jeg ser spørsmål i chatten. Logiske adresser og er de samme som virtuelle?'}, {'timestamp': (286.48, 292.68), 'text': ' Ja, jeg bruker det litt om hverandre. Logiske eller virtuelle adresser.'}, {'timestamp': (293.64, 298.24), 'text': ' Hovedpoenget er at de må oversettes til fysiske adresser.'}, {'timestamp': (300.0, 305.04), 'text': ' Sånn så tabellen ut som dette her. For program 1 så kunne vi si'}, {'timestamp': (305.12, 307.6), 'text': ' OK, adresse 24, den mappes over til 124.'}, {'timestamp': (307.6, 311.76), 'text': ' For program 2, adresse 28, mappes over til 178.'}, {'timestamp': (311.76, 316.36), 'text': ' Men det er klart, da hadde vi jo plutselig en tabell'}, {'timestamp': (317.46, 321.52), 'text': ' som var like stor som hele ramm. Så dette er helt umulig.'}, {'timestamp': (321.6, 323.04), 'text': ' Og altfor minnekrevende.'}, {'timestamp': (323.04, 328.48), 'text': ' Men vi kunne i stedet dele opp det logiske minnet i pages.'}, {'timestamp': (330.0, 334.0), 'text': ' Så kunne vi ha en side med 50 adresser.'}, {'timestamp': (334.08, 339.08), 'text': ' Og så kan vi si program 1 starter på adresse 100, og program 2 starter på adresse 150.'}, {'timestamp': (339.08, 343.6), 'text': ' Og dermed har vi bare én faktor som må legges til.'}, {'timestamp': (343.6, 349.92), 'text': ' For da sier vi at program 1 ligger på denne siden, og alle adresser må da bare...'}, {'timestamp': (350.0, 356.4), 'text': ' Man må legge på 100. Og det er i praksis sånn... Omtrent sånn MMU virker.'}]}
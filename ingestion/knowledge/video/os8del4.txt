{'text': ' Ok. Da skal vi se litt mer teoretisk på... Dette med scheduling og samtidige prosesser og hvordan et operativsystem da styrer det. Det store bildet av hvordan et operativ styrer. Ja, vi har allerede snakket mye om at det er viktig at to prosesser ikke må ødelegge for hverandre. To programmer som står og kjører samtidig på samme CPU... Må også delvis kjøre på hver sin CPU. Så må de f.eks. ikke skrive til samme del av minnet. For med multicore CPU-er så har vi jo samme minne. Så det må ikke være sånn at én prosess overskriver minnet for en annen. Så må det heller ikke være sånn at én prosess, hvis den ønsker det, Den setter opp en løkke og bare jobber og jobber og andre prosesser ikke får gjort noe. Og så kan det ikke være sånn at enkeltprosesser tar over hele CPU-en. At de f.eks. får hele systemet til å fryse. I verste fall kjører kommandoen holdt og stopper hele systemet. Sånn kan det opplagt ikke være. Det har vært mange løsninger opp gjennom tiden. En tidlig Windows-løsning, så var det sånn at man... Det var jo sånn Windows 95, hvor man begynte med multitasking. Så var det litt sånn at man hadde en frivillig operativstemme, bare overlot hele CPU-en til en prosess, men så måtte da prosessen frivillig gi den fra seg. Hvis det var bug i en sånn prosess og et eller annet galt, så kunne hele systemet låse seg. Så etter hvert så har alle moderne operativstemmer gått over til den beste løsningen, som er all makt til operativstemme, og som ofte kalles for preemptive multitasking. Og preemptive, det er... Opprinnelig så var det sånn i England at man skulle dele ut landområder til folk. Og det er på samme måte som Operativstemme gjør det. Den deler ut rettigheter til innbyggerne i landet, som da er prosessene. Og hver får sin del, og hver får sin del av ramm av minne og sin del av CPU. Så det vi skal se på nå, er hvordan kan Operativstemme i praksis få til dette. Ett prinsipp som er viktig... Operativstøtten må ha litt hjelp fra Hardware for å kunne få til dette. Og en viktig bestanddel i den hjelpen er prosessormodus. Og alle moderne prosessorer har et modusbitt som er 0 eller 1, og som begrenser hva som er lov å gjøre. Og det modusbittet switcher imellom, det er da brukermodus. Og privilegert-modus, eller cornal-mode, som det heter på engelsk. User-mode og cornal-mode. Dette kalles også ofte protection hardware. Og det er helt nødvendig for å kunne kjøre multitasking i det hele tatt. Hvis du ikke har noen forskjell på brukermodus og privilegert-modus, Så vil da i prinsippet enhver prosess kunne ta over kontrollen på systemet. Og da... da vil alt avhenge av at den prosessen gjør ting riktig, og ikke fryser systemet. Det finnes systemer som er sånn. Vi skal se på unicurnals senere, og da er det typisk at du har en kjerne som bare gjør én bestemt ting, f.eks. bare er webserver. Da har man ikke brukere og andre prosesser osv. Da er det full kontroll til denne prosessen. Men den må da selvsagt ikke ødelegges i systemet. Men dette med prosessormodus er veldig viktig i et generelt operativsystem som skal kjøre mange prosesser samtidig. Vi kommer ofte til å bruke ordet use mode, altså den engelske betegnelsen på brukermodus. Det er begrenset aksess til ram og til instruksjoner. Så når CPU-en er switchet til use mode, så kan ikke alle instruksjoner utføres. F.eks. hvis du er i use mode og prøver å gjøre institusjonen holdt, eller stoppe maskinen, så blir den bare ignorert. Da skjer det ingenting. Og det er hovedhensikten med use mode. Man får ikke tilgang til alt som er i minnet. I cornal mode, eller privilegert modus, så kan alt... Alle institusjoner kan utføres, alt minne og alle registre. Alt kan gjøres. Og det er opplagt her, i cornal mode, der kjører operativsystem kjernen. Og det er hele ideen. Fra cornal mode så kontrollerer operativsystemkjernen alt som skjer.', 'chunks': [{'timestamp': (0.0, 7.5), 'text': ' Ok. Da skal vi se litt mer teoretisk på...'}, {'timestamp': (7.5, 11.0), 'text': ' Dette med scheduling og samtidige prosesser'}, {'timestamp': (11.0, 14.74), 'text': ' og hvordan et operativsystem da styrer det.'}, {'timestamp': (14.74, 20.58), 'text': ' Det store bildet av hvordan et operativ styrer.'}, {'timestamp': (20.62, 24.06), 'text': ' Ja, vi har allerede snakket mye om'}, {'timestamp': (24.16, 29.94), 'text': ' at det er viktig at to prosesser ikke må ødelegge for hverandre.'}, {'timestamp': (30.0, 35.76), 'text': ' To programmer som står og kjører samtidig på samme CPU...'}, {'timestamp': (35.84, 38.44), 'text': ' Må også delvis kjøre på hver sin CPU.'}, {'timestamp': (38.52, 43.12), 'text': ' Så må de f.eks. ikke skrive til samme del av minnet.'}, {'timestamp': (43.12, 46.96), 'text': ' For med multicore CPU-er så har vi jo samme minne.'}, {'timestamp': (46.96, 52.52), 'text': ' Så det må ikke være sånn at én prosess overskriver minnet for en annen.'}, {'timestamp': (52.52, 59.6), 'text': ' Så må det heller ikke være sånn at én prosess, hvis den ønsker det,'}, {'timestamp': (60.0, 64.66), 'text': ' Den setter opp en løkke og bare jobber og jobber'}, {'timestamp': (64.68, 68.08), 'text': ' og andre prosesser ikke får gjort noe.'}, {'timestamp': (68.08, 74.32), 'text': ' Og så kan det ikke være sånn at enkeltprosesser tar over hele CPU-en.'}, {'timestamp': (74.32, 81.08), 'text': ' At de f.eks. får hele systemet til å fryse.'}, {'timestamp': (81.16, 87.08), 'text': ' I verste fall kjører kommandoen holdt og stopper hele systemet.'}, {'timestamp': (87.16, 89.72), 'text': ' Sånn kan det opplagt ikke være.'}, {'timestamp': (90.0, 94.3), 'text': ' Det har vært mange løsninger opp gjennom tiden.'}, {'timestamp': (94.3, 100.28), 'text': ' En tidlig Windows-løsning, så var det sånn at man...'}, {'timestamp': (100.28, 104.12), 'text': ' Det var jo sånn Windows 95, hvor man begynte med multitasking.'}, {'timestamp': (104.16, 110.42), 'text': ' Så var det litt sånn at man hadde en frivillig operativstemme,'}, {'timestamp': (110.42, 115.1), 'text': ' bare overlot hele CPU-en til en prosess,'}, {'timestamp': (115.1, 118.5), 'text': ' men så måtte da prosessen frivillig gi den fra seg.'}, {'timestamp': (120.0, 124.32), 'text': ' Hvis det var bug i en sånn prosess og et eller annet galt,'}, {'timestamp': (124.4, 127.2), 'text': ' så kunne hele systemet låse seg.'}, {'timestamp': (127.28, 131.24), 'text': ' Så etter hvert så har alle moderne operativstemmer gått over'}, {'timestamp': (131.32, 135.8), 'text': ' til den beste løsningen, som er all makt til operativstemme,'}, {'timestamp': (135.88, 139.48), 'text': ' og som ofte kalles for preemptive multitasking.'}, {'timestamp': (139.56, 145.28), 'text': ' Og preemptive, det er... Opprinnelig så var det sånn i England'}, {'timestamp': (145.28, 146.4), 'text': ' at man skulle dele ut landområder til folk.'}, {'timestamp': (150.0, 154.7), 'text': ' Og det er på samme måte som Operativstemme gjør det.'}, {'timestamp': (154.86, 160.58), 'text': ' Den deler ut rettigheter til innbyggerne i landet, som da er prosessene.'}, {'timestamp': (160.58, 166.22), 'text': ' Og hver får sin del, og hver får sin del av ramm av minne'}, {'timestamp': (166.3, 171.3), 'text': ' og sin del av CPU.'}, {'timestamp': (171.34, 177.34), 'text': ' Så det vi skal se på nå, er hvordan kan Operativstemme i praksis få til dette.'}, {'timestamp': (180.0, 182.42), 'text': ' Ett prinsipp som er viktig...'}, {'timestamp': (182.44, 188.44), 'text': ' Operativstøtten må ha litt hjelp fra Hardware for å kunne få til dette.'}, {'timestamp': (189.46, 194.46), 'text': ' Og en viktig bestanddel i den hjelpen er prosessormodus.'}, {'timestamp': (194.46, 202.02), 'text': ' Og alle moderne prosessorer har et modusbitt som er 0 eller 1,'}, {'timestamp': (202.1, 205.84), 'text': ' og som begrenser hva som er lov å gjøre.'}, {'timestamp': (205.84, 209.96), 'text': ' Og det modusbittet switcher imellom, det er da brukermodus.'}, {'timestamp': (210.0, 216.2), 'text': ' Og privilegert-modus, eller cornal-mode, som det heter på engelsk.'}, {'timestamp': (216.28, 219.4), 'text': ' User-mode og cornal-mode.'}, {'timestamp': (220.54, 224.28), 'text': ' Dette kalles også ofte protection hardware.'}, {'timestamp': (224.36, 230.66), 'text': ' Og det er helt nødvendig for å kunne kjøre multitasking i det hele tatt.'}, {'timestamp': (230.68, 236.44), 'text': ' Hvis du ikke har noen forskjell på brukermodus og privilegert-modus,'}, {'timestamp': (236.46, 236.44), 'text': ''}, {'timestamp': (243.26, 243.28), 'text': ' Så vil da i prinsippet enhver prosess kunne ta over kontrollen på systemet.'}, {'timestamp': (249.84, 249.94), 'text': ' Og da... da vil alt avhenge av at den prosessen gjør ting riktig,'}, {'timestamp': (253.62, 260.22), 'text': ' og ikke fryser systemet. Det finnes systemer som er sånn. Vi skal se på unicurnals senere, og da er det typisk at du har en kjerne'}, {'timestamp': (260.34, 265.42), 'text': ' som bare gjør én bestemt ting, f.eks. bare er webserver.'}, {'timestamp': (266.44, 269.48), 'text': ' Da har man ikke brukere og andre prosesser osv.'}, {'timestamp': (269.48, 272.96), 'text': ' Da er det full kontroll til denne prosessen.'}, {'timestamp': (272.96, 276.68), 'text': ' Men den må da selvsagt ikke ødelegges i systemet.'}, {'timestamp': (276.76, 279.88), 'text': ' Men dette med prosessormodus er veldig viktig'}, {'timestamp': (279.96, 285.64), 'text': ' i et generelt operativsystem som skal kjøre mange prosesser samtidig.'}, {'timestamp': (285.64, 289.92), 'text': ' Vi kommer ofte til å bruke ordet use mode,'}, {'timestamp': (290.0, 293.4), 'text': ' altså den engelske betegnelsen på brukermodus.'}, {'timestamp': (296.44, 301.08), 'text': ' Det er begrenset aksess til ram og til instruksjoner.'}, {'timestamp': (301.08, 309.56), 'text': ' Så når CPU-en er switchet til use mode, så kan ikke alle instruksjoner utføres.'}, {'timestamp': (309.56, 314.16), 'text': ' F.eks. hvis du er i use mode og prøver å gjøre institusjonen holdt,'}, {'timestamp': (314.24, 318.16), 'text': ' eller stoppe maskinen, så blir den bare ignorert.'}, {'timestamp': (318.24, 324.4), 'text': ' Da skjer det ingenting. Og det er hovedhensikten med use mode.'}, {'timestamp': (326.44, 330.24), 'text': ' Man får ikke tilgang til alt som er i minnet.'}, {'timestamp': (330.32, 334.9), 'text': ' I cornal mode, eller privilegert modus, så kan alt...'}, {'timestamp': (334.9, 341.32), 'text': ' Alle institusjoner kan utføres, alt minne og alle registre. Alt kan gjøres.'}, {'timestamp': (341.4, 346.48), 'text': ' Og det er opplagt her, i cornal mode, der kjører operativsystem kjernen.'}, {'timestamp': (346.48, 354.32), 'text': ' Og det er hele ideen. Fra cornal mode så kontrollerer operativsystemkjernen alt som skjer.'}]}
{'text': ' Problemstillingen er at... Hvis man jobber med felles data, så må man serialisere. Hvis ikke, som vi skal se, så kan det gå veldig galt. Da kan man slåss om å bruke en felles variabel og ødelegge hele datagrunnlaget. Resultatene kan bli helt feil. Et enkelt eksempel på dette er... Hvis vi tenker oss at vi har en webside som skriver ut billetter... Og da er det ofte en database som holder på antallet billetter. Så det vil jo kanskje gjøre dette enda mer komplisert. Men da vil vi alltid tenke på at vi må ha en trådsikker database. Det er da en database som er serialisert, hvor dette er tatt hensyn til. Men vi kan også tenke oss at vi bare har én webserver, hvor det er to prosesser som står og kjører. Og begge må da ha tilgang til antall billetter. Ellers kan de ikke dele ut billetter i det hele tatt. Så i dette tilfellet tenker vi oss at vi har én variabel, ledigbilletter, som sier hvor mange ledige billetter som finnes. Så kan vi tenke at koden for webserveren er noe sånt som dette her. Hvis ledige billetter er større enn null, jo, da trekker vi fra ledigbilletten med én og skriver ut en billett. Og det ser jo enkelt og greit ut. Men vi kan da få et mulig problem. Det problemet er... Hva skjer hvis man er litt uheldig og Prosess1 står og kjører og sjekker at det er ledigbilletter? Den felles variabelen ledigbilletter, den er én. Men så vet vi at en sånn if-test, den utføres ikke i én instruksjon. Det er først en if. Først så vil det være en compare av ledigbilletter. Og se om den er større enn null. Og i dette tilfellet så vil dette slå til. Men før Prosess 1 har rukket å minske ledigbillett med én, så skjer det en Context-witch. Så hopper jeg over til Prosess 2, og så utfører den den samme. Den sjekker at ledigbilletter er større enn null. Og så ser vi... Så gjør... Så kommer den Context Switch-en tilbake. Ledig billett til minus-minus. Og den blir ned i minus én, og så skriver den ut enda en billett. Og det er klart det er to stykker som har fått billetter. Og her er det noe som går helt galt. Så på denne måten kan man ikke ha det. Og man må sørge for at noe sånt som dette her ikke kan skje. I dette tilfellet så er det kanskje logisk å tenke seg at... Og lett å forestille seg at dette kan skje, siden det er flere kodeoperasjoner involvert. At man først sjekker LED-billetter, og så trekker man fra. Her er det en kontekstfetch. Det tilfellet man også har, er at P1 og P2 kjører på hver sin CPU. Og da vil det være enda mer problematisk, for da vil ikke de kunne sjekke seg imellom. Da vil de hente ned lederbilletter til sin CPU uten å sjekke om den andre da har gjort det. Så da er det enda vanskeligere å serialisere.', 'chunks': [{'timestamp': (0.0, 5.58), 'text': ' Problemstillingen er at...'}, {'timestamp': (5.58, 11.34), 'text': ' Hvis man jobber med felles data, så må man serialisere.'}, {'timestamp': (11.34, 17.02), 'text': ' Hvis ikke, som vi skal se, så kan det gå veldig galt.'}, {'timestamp': (17.1, 20.98), 'text': ' Da kan man slåss om å bruke en felles variabel'}, {'timestamp': (21.0, 27.34), 'text': ' og ødelegge hele datagrunnlaget. Resultatene kan bli helt feil.'}, {'timestamp': (30.0, 35.6), 'text': ' Et enkelt eksempel på dette er...'}, {'timestamp': (35.88, 40.92), 'text': ' Hvis vi tenker oss at vi har en webside som skriver ut billetter...'}, {'timestamp': (40.92, 50.72), 'text': ' Og da er det ofte en database som holder på antallet billetter.'}, {'timestamp': (50.74, 56.24), 'text': ' Så det vil jo kanskje gjøre dette enda mer komplisert.'}, {'timestamp': (60.0, 67.1), 'text': ' Men da vil vi alltid tenke på at vi må ha en trådsikker database.'}, {'timestamp': (67.12, 74.0), 'text': ' Det er da en database som er serialisert, hvor dette er tatt hensyn til.'}, {'timestamp': (74.0, 78.84), 'text': ' Men vi kan også tenke oss at vi bare har én webserver,'}, {'timestamp': (78.84, 84.42), 'text': ' hvor det er to prosesser som står og kjører.'}, {'timestamp': (84.52, 87.92), 'text': ' Og begge må da ha tilgang til antall billetter.'}, {'timestamp': (87.92, 89.98), 'text': ' Ellers kan de ikke dele ut billetter i det hele tatt.'}, {'timestamp': (90.0, 95.2), 'text': ' Så i dette tilfellet tenker vi oss at vi har én variabel,'}, {'timestamp': (95.22, 100.3), 'text': ' ledigbilletter, som sier hvor mange ledige billetter som finnes.'}, {'timestamp': (100.3, 104.74), 'text': ' Så kan vi tenke at koden for webserveren er noe sånt som dette her.'}, {'timestamp': (104.84, 108.16), 'text': ' Hvis ledige billetter er større enn null,'}, {'timestamp': (108.24, 113.52), 'text': ' jo, da trekker vi fra ledigbilletten med én og skriver ut en billett.'}, {'timestamp': (113.52, 118.68), 'text': ' Og det ser jo enkelt og greit ut. Men vi kan da få et mulig problem.'}, {'timestamp': (120.0, 128.84), 'text': ' Det problemet er... Hva skjer hvis man er litt uheldig og Prosess1 står og kjører'}, {'timestamp': (128.92, 136.4), 'text': ' og sjekker at det er ledigbilletter? Den felles variabelen ledigbilletter, den er én.'}, {'timestamp': (136.4, 143.12), 'text': ' Men så vet vi at en sånn if-test, den utføres ikke i én instruksjon.'}, {'timestamp': (143.12, 149.92), 'text': ' Det er først en if. Først så vil det være en compare av ledigbilletter.'}, {'timestamp': (150.0, 153.8), 'text': ' Og se om den er større enn null.'}, {'timestamp': (155.08, 158.08), 'text': ' Og i dette tilfellet så vil dette slå til.'}, {'timestamp': (158.12, 165.64), 'text': ' Men før Prosess 1 har rukket å minske ledigbillett med én,'}, {'timestamp': (165.72, 168.48), 'text': ' så skjer det en Context-witch.'}, {'timestamp': (168.56, 173.56), 'text': ' Så hopper jeg over til Prosess 2, og så utfører den den samme.'}, {'timestamp': (173.64, 177.24), 'text': ' Den sjekker at ledigbilletter er større enn null.'}, {'timestamp': (180.0, 185.42), 'text': ' Og så ser vi... Så gjør...'}, {'timestamp': (185.44, 190.44), 'text': ' Så kommer den Context Switch-en tilbake. Ledig billett til minus-minus.'}, {'timestamp': (190.46, 196.32), 'text': ' Og den blir ned i minus én, og så skriver den ut enda en billett.'}, {'timestamp': (196.34, 202.86), 'text': ' Og det er klart det er to stykker som har fått billetter.'}, {'timestamp': (202.88, 208.96), 'text': ' Og her er det noe som går helt galt. Så på denne måten kan man ikke ha det.'}, {'timestamp': (210.0, 217.08), 'text': ' Og man må sørge for at noe sånt som dette her ikke kan skje.'}, {'timestamp': (220.74, 227.0), 'text': ' I dette tilfellet så er det kanskje logisk å tenke seg at...'}, {'timestamp': (227.0, 234.36), 'text': ' Og lett å forestille seg at dette kan skje, siden det er flere kodeoperasjoner involvert.'}, {'timestamp': (234.44, 239.76), 'text': ' At man først sjekker LED-billetter, og så trekker man fra.'}, {'timestamp': (240.0, 244.24), 'text': ' Her er det en kontekstfetch.'}, {'timestamp': (244.24, 249.46), 'text': ' Det tilfellet man også har, er at P1 og P2 kjører på hver sin CPU.'}, {'timestamp': (249.48, 254.04), 'text': ' Og da vil det være enda mer problematisk,'}, {'timestamp': (254.04, 258.28), 'text': ' for da vil ikke de kunne sjekke seg imellom.'}, {'timestamp': (258.36, 261.24), 'text': ' Da vil de hente ned lederbilletter til sin CPU'}, {'timestamp': (261.32, 264.28), 'text': ' uten å sjekke om den andre da har gjort det.'}, {'timestamp': (264.28, 268.44), 'text': ' Så da er det enda vanskeligere å serialisere.'}]}
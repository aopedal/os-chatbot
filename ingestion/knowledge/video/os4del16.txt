{'text': ' Men vi har da gått denne lange veien for å... For å kunne se på hva som egentlig er innholdet i... I sumfunksjon. Så skal vi kanskje hoppe litt i... I fremstillingen her. Og så kan vi prøve å be kompilatoren om å lage... Såkalt assembly-kode. Og måten man gjør det på, er at man... I stedet for sånn som her... At jeg bruker minus C. Minus C sie, lag maskinkode av denne funksjonen. I stedet så kan jeg be GCC-kompulatoren om å lage assembly-kode. Så lages det en fil med assemblerkode som heter sumfunksjon.s. Og den ser vi. Den er ganske liten. Og vi kan se på den her... Hvordan... Hvordan ser den ut? Jo, den er ikke større enn dette her. Og her ser vi... Her begynner det å ligne på noe vi har sett. Her er det "... Og dette her er såkalt assembly-kode. Og denne koden kan man skrive for hånd selv. Så tidligere i de tidligste datamaskinene var det veldig vanlig å skrive i assembly. I dag også så skriver man assembly i noen få tider. Noen tilfeller hvor man ønsker å få ting til å gå veldig fort for å optimalisere. Men det har blitt mindre og mindre vanlig å skrive assembly. Kanskje litt vanligere for ARM, for der er det veldig viktig at ting er effektive. Mobile devices. Men... For det vi ser her, det er nå da assembly-versjonen av den maskinkoden som GCC vil lage hvis jeg legger på minus C i stedet for minus S. Så det jeg ba GCC om nå, var vis meg assembly-versjonen av den maskinkoden du vil lage. Og da ser vi at fra høynivåspråket så er det kompilatoren som da bestemmer nøyaktig Hvordan denne loopen skal være, osv. Og vi ser her, for eksempel, så har vi en jump less equal. Det er hopp hvis... Hvis de to tallene, altså tallet tre og dette her, som er en referanse til ram, hvis... Jeg tror det er sånn at hvis denne er mindre enn tre, så skal det hoppe. Metoden som kompulatoren har valgt for å få til å lage en løkke. Da skal vi hoppe til L3, og det er opp her igjen. Den utfører da akkurat den helt tilsvarende kode som vi lagde. Da skal vi se litt mer på den koden. Men før vi gjør det, så kan det være greit å kjenne litt mer til X86. Assembly, og hva de forskjellige tingene her... hva de gjør. Så det vi skal se på nå, er hvordan man skriver assembly-kode direkte. Men det som kan være greit å ta med videre, er denne konsesjonen her. Den ser litt rar ut. Og... dette er et register. Så... Denne konstruksjonen er en referanse til ram. Og det er en referanse til den adressen i ram som ligger da inn i dette registeret RBP. Så akkurat som i simuleringen. Hvis inni RBP ligger tallet 2, så er dette en referanse til byte nummer 2 i ram. Men så er det litt en sånn minus 4 her etter, og det betyr at... Det er egentlig ikke bite nummer to, men det er minus fire, så det blir da... Ja, la oss si RBP var åtte, da. Så blir denne adressen egentlig til bite nummer fire. For det er åtte minus fire. Du trekker fra fire bite. Eller du trekker fra adressen med fire bite. Og dette kan være... Det ser jo ganske gresk ut til å begynne med, men vi skal bruke litt tid på å se på assembly. Forstå hva som foregår. Det er også veldig nyttig senere, i andre sammenhenger, å kunne forstå hva assembly-koden er. Og så er dette på en måte linken fra transistorene og opp til høynivåkode. Så litt må vi forstå av registeret og hvordan de brukes. Når jeg snakker om registeret, og da ser vi EAX... Det er etter registeret. Sånn tradisjonelt i X86 så er det fire viktige registre. AX, BX, X og DX. Og E, det betyr at det er et 32-bitsregister. Og Move L, det betyr at vi skal flytte en long. Og en long det er da 32-bit. Så Movel, Adel og disse her, de opererer på 32-bit. Jeg skal skrive litt assemblykode, da skal vi bruke i stedet... Og det er en utvidet versjon. Det er 64-bits-registeret. Men vi kan gå tilbake og så kan vi se litt på... Vi kan se litt på det som står i notatene om Assembly. Jeg har lagt inn et par referanser. Det er et company fra Erik Hjelmås som ligger i Canvas. Det inneholder litt om assembly. Og så er det masse referanser på nettet også, sånn som denne her. Så vi skal ikke gå veldig dypt i assembly-programmering. Enkle sammenhenger. Men det som er viktig å vite, er at nøyaktig som i den simulerte maskinen, så fins det assembly-institusjoner. Og det er ikke noe annet enn at i X86, når det finnes en institusjon MOVE, så har den bare et nummer i rekken. Det er en rekke institusjoner. Kanskje MOVE er institusjon nummer 24. Av en X86-maskin står tallet 24 der, og da er det kodet akkurat som i vår simulering. Tallet 24 betyr - legg sammen. Og så er det da en syntaks for alle instruksjoner, sånn som for Move. Så angir man... Man starter med en assemblelinje med Move, og så angir man Source og destination. Så Move... Hvis jeg da her skriver ".move ax til bx", så betyr det rett og slett... Ta det som ligger i register ax, og legg i bx. Og så er assembly lagd av en masse sånne institusjoner som tilsvarer alle maskininstitusjoner. Så når maskinen er lagd, så definerer den alle institusjoner. Det betyr da... Hvis jeg så nå ad AXBX, så vil det bety... Legge sammen det som ligger i BX med AX, og lagre det i Destination, nemlig BX. Og tilsvarende for andre instruksjoner. Det vi trenger for å gjøre akkurat den samme løkken som vi hadde i simuleringen, er disse instruksjonene. Compare, som er akkurat den samme som vi hadde i simuleringen. Sammenlign verdien av de to registrene. Og så etterpå har vi en jump not equal. Den finnes også i Exo 86. Og da jump not equal, den hopper da til den riktige linjen i... i programmet. Og da må vi ha med det. Så vet vi... Da vet vi omtrent hva som skal til for å skrive en sånn summeringsfunksjon. Så da kan vi prøve å gå inn og se på hvordan det ser ut.', 'chunks': [{'timestamp': (0.0, 5.56), 'text': ' Men vi har da gått denne lange veien for å...'}, {'timestamp': (6.98, 15.16), 'text': ' For å kunne se på hva som egentlig er innholdet i...'}, {'timestamp': (17.12, 22.84), 'text': ' I sumfunksjon. Så skal vi kanskje hoppe litt i...'}, {'timestamp': (22.84, 29.88), 'text': ' I fremstillingen her. Og så kan vi prøve å be kompilatoren om å lage...'}, {'timestamp': (30.0, 32.96), 'text': ' Såkalt assembly-kode.'}, {'timestamp': (32.96, 38.6), 'text': ' Og måten man gjør det på, er at man...'}, {'timestamp': (38.6, 44.48), 'text': ' I stedet for sånn som her...'}, {'timestamp': (44.48, 51.0), 'text': ' At jeg bruker minus C. Minus C sie, lag maskinkode av denne funksjonen.'}, {'timestamp': (51.12, 57.72), 'text': ' I stedet så kan jeg be GCC-kompulatoren om å lage assembly-kode.'}, {'timestamp': (60.0, 68.28), 'text': ' Så lages det en fil med assemblerkode som heter sumfunksjon.s.'}, {'timestamp': (68.28, 74.84), 'text': ' Og den ser vi. Den er ganske liten. Og vi kan se på den her...'}, {'timestamp': (74.84, 79.88), 'text': ' Hvordan... Hvordan ser den ut?'}, {'timestamp': (81.3, 85.0), 'text': ' Jo, den er ikke større enn dette her.'}, {'timestamp': (85.0, 89.88), 'text': ' Og her ser vi... Her begynner det å ligne på noe vi har sett.'}, {'timestamp': (90.0, 102.0), 'text': ' Her er det "... Og dette her er såkalt assembly-kode.'}, {'timestamp': (102.6, 108.32), 'text': ' Og denne koden kan man skrive for hånd selv.'}, {'timestamp': (108.32, 112.76), 'text': ' Så tidligere i de tidligste datamaskinene var det veldig vanlig'}, {'timestamp': (112.84, 117.96), 'text': ' å skrive i assembly. I dag også så skriver man assembly i noen få tider.'}, {'timestamp': (120.0, 127.34), 'text': ' Noen tilfeller hvor man ønsker å få ting til å gå veldig fort for å optimalisere.'}, {'timestamp': (127.36, 131.92), 'text': ' Men det har blitt mindre og mindre vanlig å skrive assembly.'}, {'timestamp': (132.0, 134.2), 'text': ' Kanskje litt vanligere for ARM,'}, {'timestamp': (134.22, 142.68), 'text': ' for der er det veldig viktig at ting er effektive. Mobile devices. Men...'}, {'timestamp': (150.0, 158.16), 'text': ' For det vi ser her, det er nå da assembly-versjonen av den maskinkoden'}, {'timestamp': (158.24, 164.08), 'text': ' som GCC vil lage hvis jeg legger på minus C i stedet for minus S.'}, {'timestamp': (165.12, 169.2), 'text': ' Så det jeg ba GCC om nå, var vis meg assembly-versjonen'}, {'timestamp': (169.2, 172.16), 'text': ' av den maskinkoden du vil lage.'}, {'timestamp': (172.16, 178.4), 'text': ' Og da ser vi at fra høynivåspråket så er det kompilatoren som da bestemmer nøyaktig'}, {'timestamp': (180.0, 183.0), 'text': ' Hvordan denne loopen skal være, osv.'}, {'timestamp': (183.08, 187.84), 'text': ' Og vi ser her, for eksempel, så har vi en jump less equal.'}, {'timestamp': (187.86, 191.84), 'text': ' Det er hopp hvis...'}, {'timestamp': (193.78, 197.72), 'text': ' Hvis de to tallene, altså tallet tre og dette her,'}, {'timestamp': (197.8, 201.8), 'text': ' som er en referanse til ram, hvis...'}, {'timestamp': (203.48, 208.48), 'text': ' Jeg tror det er sånn at hvis denne er mindre enn tre, så skal det hoppe.'}, {'timestamp': (210.0, 215.4), 'text': ' Metoden som kompulatoren har valgt for å få til å lage en løkke.'}, {'timestamp': (215.48, 219.68), 'text': ' Da skal vi hoppe til L3, og det er opp her igjen.'}, {'timestamp': (219.68, 227.0), 'text': ' Den utfører da akkurat den helt tilsvarende kode som vi lagde.'}, {'timestamp': (227.98, 232.32), 'text': ' Da skal vi se litt mer på den koden.'}, {'timestamp': (232.34, 238.8), 'text': ' Men før vi gjør det, så kan det være greit å kjenne litt mer til X86.'}, {'timestamp': (240.0, 246.68), 'text': ' Assembly, og hva de forskjellige tingene her... hva de gjør.'}, {'timestamp': (247.6, 252.98), 'text': ' Så det vi skal se på nå, er hvordan man skriver assembly-kode direkte.'}, {'timestamp': (252.98, 259.68), 'text': ' Men det som kan være greit å ta med videre, er denne konsesjonen her.'}, {'timestamp': (259.76, 265.88), 'text': ' Den ser litt rar ut. Og... dette er et register. Så...'}, {'timestamp': (270.0, 275.14), 'text': ' Denne konstruksjonen er en referanse til ram.'}, {'timestamp': (275.14, 280.88), 'text': ' Og det er en referanse til den adressen i ram'}, {'timestamp': (280.96, 284.72), 'text': ' som ligger da inn i dette registeret RBP.'}, {'timestamp': (284.72, 289.64), 'text': ' Så akkurat som i simuleringen. Hvis inni RBP ligger tallet 2,'}, {'timestamp': (289.64, 294.92), 'text': ' så er dette en referanse til byte nummer 2 i ram.'}, {'timestamp': (294.92, 299.96), 'text': ' Men så er det litt en sånn minus 4 her etter, og det betyr at...'}, {'timestamp': (300.0, 304.16), 'text': ' Det er egentlig ikke bite nummer to, men det er minus fire, så det blir da...'}, {'timestamp': (304.16, 310.8), 'text': ' Ja, la oss si RBP var åtte, da. Så blir denne adressen egentlig til bite nummer fire.'}, {'timestamp': (310.88, 314.84), 'text': ' For det er åtte minus fire. Du trekker fra fire bite.'}, {'timestamp': (314.84, 318.48), 'text': ' Eller du trekker fra adressen med fire bite.'}, {'timestamp': (318.48, 325.16), 'text': ' Og dette kan være... Det ser jo ganske gresk ut til å begynne med,'}, {'timestamp': (325.24, 329.96), 'text': ' men vi skal bruke litt tid på å se på assembly.'}, {'timestamp': (330.0, 333.06), 'text': ' Forstå hva som foregår.'}, {'timestamp': (333.08, 339.2), 'text': ' Det er også veldig nyttig senere, i andre sammenhenger,'}, {'timestamp': (339.22, 343.12), 'text': ' å kunne forstå hva assembly-koden er.'}, {'timestamp': (343.2, 349.6), 'text': ' Og så er dette på en måte linken fra transistorene og opp til høynivåkode.'}, {'timestamp': (349.6, 355.32), 'text': ' Så litt må vi forstå av registeret og hvordan de brukes.'}, {'timestamp': (355.34, 359.98), 'text': ' Når jeg snakker om registeret, og da ser vi EAX... Det er etter registeret.'}, {'timestamp': (360.0, 365.0), 'text': ' Sånn tradisjonelt i X86 så er det fire viktige registre.'}, {'timestamp': (365.08, 367.48), 'text': ' AX, BX, X og DX.'}, {'timestamp': (367.56, 372.36), 'text': ' Og E, det betyr at det er et 32-bitsregister.'}, {'timestamp': (372.36, 378.24), 'text': ' Og Move L, det betyr at vi skal flytte en long.'}, {'timestamp': (378.24, 382.76), 'text': ' Og en long det er da 32-bit.'}, {'timestamp': (382.84, 386.52), 'text': ' Så Movel, Adel og disse her, de opererer på 32-bit.'}, {'timestamp': (386.52, 389.72), 'text': ' Jeg skal skrive litt assemblykode, da skal vi bruke i stedet...'}, {'timestamp': (390.0, 398.68), 'text': ' Og det er en utvidet versjon. Det er 64-bits-registeret.'}, {'timestamp': (398.68, 405.72), 'text': ' Men vi kan gå tilbake og så kan vi se litt på...'}, {'timestamp': (407.56, 418.04), 'text': ' Vi kan se litt på det som står i notatene om Assembly.'}, {'timestamp': (420.0, 424.8), 'text': ' Jeg har lagt inn et par referanser.'}, {'timestamp': (428.58, 433.48), 'text': ' Det er et company fra Erik Hjelmås som ligger i Canvas.'}, {'timestamp': (433.56, 437.08), 'text': ' Det inneholder litt om assembly.'}, {'timestamp': (437.16, 442.96), 'text': ' Og så er det masse referanser på nettet også, sånn som denne her.'}, {'timestamp': (443.04, 447.16), 'text': ' Så vi skal ikke gå veldig dypt i assembly-programmering.'}, {'timestamp': (450.0, 451.74), 'text': ' Enkle sammenhenger.'}, {'timestamp': (451.76, 458.8), 'text': ' Men det som er viktig å vite, er at nøyaktig som i den simulerte maskinen,'}, {'timestamp': (458.8, 462.28), 'text': ' så fins det assembly-institusjoner.'}, {'timestamp': (462.28, 468.78), 'text': ' Og det er ikke noe annet enn at i X86, når det finnes en institusjon MOVE,'}, {'timestamp': (468.8, 474.48), 'text': ' så har den bare et nummer i rekken. Det er en rekke institusjoner.'}, {'timestamp': (474.56, 477.04), 'text': ' Kanskje MOVE er institusjon nummer 24.'}, {'timestamp': (480.0, 484.28), 'text': ' Av en X86-maskin står tallet 24 der,'}, {'timestamp': (484.36, 488.76), 'text': ' og da er det kodet akkurat som i vår simulering.'}, {'timestamp': (488.84, 492.92), 'text': ' Tallet 24 betyr - legg sammen.'}, {'timestamp': (492.92, 498.32), 'text': ' Og så er det da en syntaks for alle instruksjoner, sånn som for Move.'}, {'timestamp': (498.32, 505.16), 'text': ' Så angir man... Man starter med en assemblelinje med Move,'}, {'timestamp': (505.24, 509.96), 'text': ' og så angir man Source og destination. Så Move...'}, {'timestamp': (510.0, 519.3), 'text': ' Hvis jeg da her skriver ".move ax til bx", så betyr det rett og slett...'}, {'timestamp': (519.3, 524.14), 'text': ' Ta det som ligger i register ax, og legg i bx.'}, {'timestamp': (524.16, 530.8), 'text': ' Og så er assembly lagd av en masse sånne institusjoner'}, {'timestamp': (530.84, 533.88), 'text': ' som tilsvarer alle maskininstitusjoner.'}, {'timestamp': (534.0, 538.12), 'text': ' Så når maskinen er lagd, så definerer den alle institusjoner.'}, {'timestamp': (540.0, 543.12), 'text': ' Det betyr da...'}, {'timestamp': (543.12, 548.76), 'text': ' Hvis jeg så nå ad AXBX, så vil det bety...'}, {'timestamp': (548.76, 556.18), 'text': ' Legge sammen det som ligger i BX med AX, og lagre det i Destination, nemlig BX.'}, {'timestamp': (556.18, 561.5), 'text': ' Og tilsvarende for andre instruksjoner.'}, {'timestamp': (561.5, 569.7), 'text': ' Det vi trenger for å gjøre akkurat den samme løkken som vi hadde i simuleringen, er disse instruksjonene.'}, {'timestamp': (570.0, 575.14), 'text': ' Compare, som er akkurat den samme som vi hadde i simuleringen.'}, {'timestamp': (575.16, 579.0), 'text': ' Sammenlign verdien av de to registrene.'}, {'timestamp': (579.7, 584.76), 'text': ' Og så etterpå har vi en jump not equal. Den finnes også i Exo 86.'}, {'timestamp': (584.78, 589.64), 'text': ' Og da jump not equal, den hopper da til'}, {'timestamp': (589.64, 597.56), 'text': ' den riktige linjen i... i programmet.'}, {'timestamp': (597.56, 599.72), 'text': ' Og da må vi ha med det. Så vet vi...'}, {'timestamp': (600.0, 605.76), 'text': ' Da vet vi omtrent hva som skal til for å skrive en sånn summeringsfunksjon.'}, {'timestamp': (605.76, 613.6), 'text': ' Så da kan vi prøve å gå inn og se på hvordan det ser ut.'}]}
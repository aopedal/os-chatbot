{'text': ' Vi skal nå se på passordkryptering på en Linux-server, og hva som skjer når vi logger inn på en Linux-server. Ja, vi vet at all info om innlogging ligger i en fil som heter etterpassword. I hvert fall all info som brukernavn og bruker-id osv. Hjemmemappe. Default selv. Men passordet ligger ikke her. Tidligere så lå i stedet for den X-en, så lå det en såkalt passordhersj. En kryptert form av passordet. Av sikkerhetsgrunner så ligger det nå ikke lenger i passord, sånn at det kan ses av alle. Men default, så ligger en... Passordhersen ligger i etshadow. Men den har ikke en vanlig bruker lov til å se på, så da må man være sudobruker for å ha ut rettigheter. Nå hadde jeg nettopp tastet ut passordet, ellers måtte jeg taste passordet direkte. Her ser vi en lang streng, som er en såkalt hers. Det er generert med en hersingalgoritme, en krypteringsalgoritme, som ut ifra passordet lager denne hersen. Og det som skjer når du logger inn, er at man taster inn passordet, og så har man en algoritme som lager denne hersen, og så sammenligner man med det som ligger i Etch Shadow. Hvis det er det samme, så får du lov å logge. Vi kan se litt på de forskjellige hersingmetodene. Tidligere brukte man Dess, som er en relativt dårlig algoritme. Så brukte man MD5. Det brukes fortsatt i en del sammenhenger. Men det var noen mangler ved MD5, sånn at den litt lettere kunne knekkes i noen tilfeller. Så... I de senere årene har man gått over til Sja. Sja-256 og Sja-512. Dette er da antall bitt som er brukt i krypteringen. Jo flere bitt, jo vanskeligere er det å knekke. Og vi så på vårt eksempel at... Det sto en dollar seks først her i hashen. Og det betyr... At dette var sja512. Så det som skjer når vi krypterer passordet, det er at man... Eller når vi logger inn, så er det første som skjer, at man taster en passord. Og så vil loggenstillet kryptere passordet med en krypteringsalgoritme. Så får vi en lang hastereng. Så sjekkes den mot EtsShadow. Hvis den da er lik, så får du logge inn. Poenget er at det er vanskelig å gå den andre veien. Eller i praksis umulig å gå den andre veien herfra og tilbake og finne ut passordet. Tidligere lå dette passordet i Klarteks, så alle kunne se det for alle brukere. Det har man sluttet med, for det er mulig... Selv om det er umulig å gå denne veien, så er det mulig å bruke en såkalt brute force-metode for å knekke passord. Og det man gjør da, er at man sender inn en rekke forslag på passord. Man gjetter rett og slett. Typisk å gå gjennom alle bokstaver i alfabetet. Eventuelt noe som er smartere, Bruk en ordbok, gå gjennom alle ordene i ordboken. Kjøre krypteringsalgoritmen som brukes når man logger inn. Og så sjekke mot hashen her. Er det den samme, gjør man det for en million forskjellige passord. Og så plutselig får man en match, og da vet man passordet. Så på den måten kan det være mulig ut fra hasher å finne passordord. Selv om det ikke er passord i klartekst, så kan man da klare å finne det ut ved Brute Force. Vi skal se nå på hvordan vi kan... Hvordan vi kan klare det. Ja... Vi så her at den passordstrengen lå i Shadow. Eller i dette tilfellet åtte tegn her mellom... Etter dollar nummer to... Mellom dollar nummer to og dollar nummer tre. Der er det en streng. Og det er et såkalt salt. Og vi så at vi brukte sja5. Og det er mulig fra kommandolinja, og så... Med kommandoen MK-password. Hvis man da bruker... Hvis man da spesifiserer hvilken algoritme det er, minus M... I vårt tilfelle så var det A512. Og så, hvis man i tillegg spesifiserer saltet, som var dette... Mellom andre og tredje dollartegn. Så kan man kjøre passordalgoritmen. Hvis jeg nå taster inn mitt passord på denne serveren, så vil du se at da kommer ut i andre enden... Jo, faktisk, da får vi til en match. Det er ikke så lett å se, men du ser de begynner på H6, CV, KIUD og sånn. Og så ser vi slutten. Den er også akkurat den samme som her. Dette skjer ved innlogging. Jeg taster inn passordet. Og så kjører skjellet denne kommandoen. Og så får du ut denne strengen og tester den. Er det det samme som i Shadow? Hvis det er det, så får jeg lov å logge. Denne metoden kan da brukes til å lage en brute force-passordknekker. Og det er det dere skal gjøre i første oppgave. Denne uka.', 'chunks': [{'timestamp': (0.0, 5.8), 'text': ' Vi skal nå se på passordkryptering på en Linux-server,'}, {'timestamp': (5.88, 11.56), 'text': ' og hva som skjer når vi logger inn på en Linux-server.'}, {'timestamp': (12.8, 23.08), 'text': ' Ja, vi vet at all info om innlogging ligger i en fil som heter etterpassword.'}, {'timestamp': (24.68, 29.0), 'text': ' I hvert fall all info som brukernavn og bruker-id osv.'}, {'timestamp': (30.0, 36.04), 'text': ' Hjemmemappe. Default selv. Men passordet ligger ikke her.'}, {'timestamp': (36.12, 42.92), 'text': ' Tidligere så lå i stedet for den X-en, så lå det en såkalt passordhersj.'}, {'timestamp': (43.0, 46.24), 'text': ' En kryptert form av passordet.'}, {'timestamp': (46.24, 53.16), 'text': ' Av sikkerhetsgrunner så ligger det nå ikke lenger i passord,'}, {'timestamp': (53.16, 58.96), 'text': ' sånn at det kan ses av alle. Men default, så ligger en...'}, {'timestamp': (60.0, 63.7), 'text': ' Passordhersen ligger i etshadow.'}, {'timestamp': (63.88, 67.6), 'text': ' Men den har ikke en vanlig bruker lov til å se på,'}, {'timestamp': (67.68, 72.88), 'text': ' så da må man være sudobruker for å ha ut rettigheter.'}, {'timestamp': (72.96, 76.04), 'text': ' Nå hadde jeg nettopp tastet ut passordet,'}, {'timestamp': (76.04, 80.28), 'text': ' ellers måtte jeg taste passordet direkte.'}, {'timestamp': (80.28, 86.6), 'text': ' Her ser vi en lang streng, som er en såkalt hers.'}, {'timestamp': (90.0, 97.8), 'text': ' Det er generert med en hersingalgoritme, en krypteringsalgoritme,'}, {'timestamp': (97.88, 101.68), 'text': ' som ut ifra passordet lager denne hersen.'}, {'timestamp': (101.68, 107.8), 'text': ' Og det som skjer når du logger inn, er at man taster inn passordet,'}, {'timestamp': (107.94, 111.44), 'text': ' og så har man en algoritme som lager denne hersen,'}, {'timestamp': (111.52, 115.0), 'text': ' og så sammenligner man med det som ligger i Etch Shadow.'}, {'timestamp': (115.84, 119.88), 'text': ' Hvis det er det samme, så får du lov å logge.'}, {'timestamp': (120.0, 126.48), 'text': ' Vi kan se litt på de forskjellige hersingmetodene.'}, {'timestamp': (128.52, 134.6), 'text': ' Tidligere brukte man Dess, som er en relativt dårlig algoritme.'}, {'timestamp': (134.68, 138.68), 'text': ' Så brukte man MD5. Det brukes fortsatt i en del sammenhenger.'}, {'timestamp': (138.76, 142.92), 'text': ' Men det var noen mangler ved MD5,'}, {'timestamp': (143.0, 149.96), 'text': ' sånn at den litt lettere kunne knekkes i noen tilfeller. Så...'}, {'timestamp': (150.0, 154.28), 'text': ' I de senere årene har man gått over til Sja.'}, {'timestamp': (154.36, 160.8), 'text': ' Sja-256 og Sja-512. Dette er da antall bitt som er brukt i krypteringen.'}, {'timestamp': (160.88, 166.12), 'text': ' Jo flere bitt, jo vanskeligere er det å knekke.'}, {'timestamp': (166.12, 173.04), 'text': ' Og vi så på vårt eksempel at...'}, {'timestamp': (173.04, 178.0), 'text': ' Det sto en dollar seks først her i hashen. Og det betyr...'}, {'timestamp': (180.0, 186.2), 'text': ' At dette var sja512.'}, {'timestamp': (186.76, 196.04), 'text': ' Så det som skjer når vi krypterer passordet, det er at man...'}, {'timestamp': (197.16, 203.28), 'text': ' Eller når vi logger inn, så er det første som skjer, at man taster en passord.'}, {'timestamp': (203.28, 208.24), 'text': ' Og så vil loggenstillet kryptere passordet med en krypteringsalgoritme.'}, {'timestamp': (210.02, 216.06), 'text': ' Så får vi en lang hastereng. Så sjekkes den mot EtsShadow.'}, {'timestamp': (216.06, 219.74), 'text': ' Hvis den da er lik, så får du logge inn.'}, {'timestamp': (219.74, 224.54), 'text': ' Poenget er at det er vanskelig å gå den andre veien.'}, {'timestamp': (224.62, 231.3), 'text': ' Eller i praksis umulig å gå den andre veien herfra og tilbake og finne ut passordet.'}, {'timestamp': (231.3, 238.7), 'text': ' Tidligere lå dette passordet i Klarteks, så alle kunne se det for alle brukere.'}, {'timestamp': (240.02, 244.18), 'text': ' Det har man sluttet med, for det er mulig...'}, {'timestamp': (244.26, 249.02), 'text': ' Selv om det er umulig å gå denne veien, så er det mulig å bruke'}, {'timestamp': (249.1, 253.58), 'text': ' en såkalt brute force-metode for å knekke passord.'}, {'timestamp': (253.58, 258.46), 'text': ' Og det man gjør da, er at man sender inn'}, {'timestamp': (258.46, 263.78), 'text': ' en rekke forslag på passord. Man gjetter rett og slett.'}, {'timestamp': (263.86, 269.94), 'text': ' Typisk å gå gjennom alle bokstaver i alfabetet. Eventuelt noe som er smartere,'}, {'timestamp': (270.0, 274.48), 'text': ' Bruk en ordbok, gå gjennom alle ordene i ordboken.'}, {'timestamp': (274.48, 279.52), 'text': ' Kjøre krypteringsalgoritmen som brukes når man logger inn.'}, {'timestamp': (279.6, 283.88), 'text': ' Og så sjekke mot hashen her. Er det den samme,'}, {'timestamp': (283.96, 287.68), 'text': ' gjør man det for en million forskjellige passord.'}, {'timestamp': (287.76, 292.84), 'text': ' Og så plutselig får man en match, og da vet man passordet.'}, {'timestamp': (292.84, 298.4), 'text': ' Så på den måten kan det være mulig ut fra hasher å finne passordord.'}, {'timestamp': (300.0, 304.88), 'text': ' Selv om det ikke er passord i klartekst,'}, {'timestamp': (305.64, 309.6), 'text': ' så kan man da klare å finne det ut ved Brute Force.'}, {'timestamp': (309.6, 314.04), 'text': ' Vi skal se nå på hvordan vi kan...'}, {'timestamp': (314.16, 317.32), 'text': ' Hvordan vi kan klare det.'}, {'timestamp': (317.32, 327.16), 'text': ' Ja... Vi så her at den passordstrengen lå i Shadow.'}, {'timestamp': (330.0, 337.48), 'text': ' Eller i dette tilfellet åtte tegn her mellom...'}, {'timestamp': (337.48, 343.2), 'text': ' Etter dollar nummer to... Mellom dollar nummer to og dollar nummer tre.'}, {'timestamp': (343.2, 349.44), 'text': ' Der er det en streng. Og det er et såkalt salt.'}, {'timestamp': (349.48, 354.64), 'text': ' Og vi så at vi brukte sja5.'}, {'timestamp': (354.64, 359.96), 'text': ' Og det er mulig fra kommandolinja, og så...'}, {'timestamp': (360.0, 363.64), 'text': ' Med kommandoen MK-password.'}, {'timestamp': (365.16, 368.4), 'text': ' Hvis man da bruker...'}, {'timestamp': (368.4, 373.08), 'text': ' Hvis man da spesifiserer hvilken algoritme det er, minus M...'}, {'timestamp': (373.08, 378.32), 'text': ' I vårt tilfelle så var det A512.'}, {'timestamp': (378.32, 385.48), 'text': ' Og så, hvis man i tillegg spesifiserer saltet, som var dette...'}, {'timestamp': (385.5, 389.96), 'text': ' Mellom andre og tredje dollartegn.'}, {'timestamp': (390.0, 393.78), 'text': ' Så kan man kjøre passordalgoritmen.'}, {'timestamp': (393.86, 398.7), 'text': ' Hvis jeg nå taster inn mitt passord på denne serveren,'}, {'timestamp': (398.7, 404.78), 'text': ' så vil du se at da kommer ut i andre enden... Jo, faktisk, da får vi til en match.'}, {'timestamp': (404.86, 412.38), 'text': ' Det er ikke så lett å se, men du ser de begynner på H6, CV, KIUD og sånn.'}, {'timestamp': (412.4, 418.68), 'text': ' Og så ser vi slutten. Den er også akkurat den samme som her.'}, {'timestamp': (420.0, 425.12), 'text': ' Dette skjer ved innlogging. Jeg taster inn passordet.'}, {'timestamp': (425.12, 429.4), 'text': ' Og så kjører skjellet denne kommandoen.'}, {'timestamp': (429.48, 432.64), 'text': ' Og så får du ut denne strengen og tester den.'}, {'timestamp': (432.64, 438.72), 'text': ' Er det det samme som i Shadow? Hvis det er det, så får jeg lov å logge.'}, {'timestamp': (438.72, 446.32), 'text': ' Denne metoden kan da brukes til å lage en brute force-passordknekker.'}, {'timestamp': (446.4, 449.92), 'text': ' Og det er det dere skal gjøre i første oppgave.'}, {'timestamp': (450.0, 453.52), 'text': ' Denne uka.'}]}
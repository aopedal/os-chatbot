{"lecture_id": "linux10del4", "chunk_id": "linux10del4_0000", "start": 0.0, "end": 188.72, "token_count": 508, "text": "Grunnen til at det er et problem med privilegerte institusjoner, er at det finnes sensitive institusjoner som ikke er privilegerte. Det kan vi se her. For når vi har en virtuell maskin... Den kjører oppå en hypervisor. Og hypervisor, det er på en måte... Det vi har tenkt på som OS-tjernen tidligere. Den kjører i curlen mode. Og så kjører det en eller flere VM-er oppå Hypervisor. Og de vil da være prosesser, og de vil kjøre i use mode. Og da får man et problem. Hvis Gjeste-OS, som egentlig tror at det er et ekte operativsystem, som kjører på ordentlig hardware... Det vil de forvente, at når GjestOS gjør en privilegert institusjon, eller en sensitiv institusjon, som bare kan gjøres i curlen mode, så forventer GjestOS at det faktisk skjer noe. La oss si Gjest-OS utfører en popf for å skru av på et interrupt. OS-kjernen må jo ha lov til å gjøre det. Men hvis POPF da ikke er en sensitiv... Ops, feil vei. Hvis da POPF... Det er en privilegert institusjon. Dvs. hvis POP utføres og ingenting skjer, så vil jo ikke dette gjestehuset her kunne fungere. Derfor er det tvingende nødvendig at alltid når man gjør en sensitiv institusjon her, en institusjon som bare kan gjøres i cernon vault, så må den trappe til hypervisor. Sånn at hypervisor kan behandle dette sånn som den bør. Da må Hypervisor finne ut at det er GjestOS som ønsker å fjerne interrups. Da fjerner Interrupts for GjestOS. Hvis det derimot var en brukerprosess som gjorde det, så vil Naso trappe. Men da vil Hypervisor avgjøre at nei, dette er en brukerprosess, den får ikke lov til det. Helt nødvendig for at virtualisering skal kunne gjennomføres på en effektiv måte.", "source": "lecture"}
